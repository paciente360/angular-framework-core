!function(){"use strict";function e(){this.headers={};this.set=function(e,t){this.headers[e]=t},this.get=function(e){if(this.headers[e].findLabel=function(e){for(var t in this.fields){var a=this.fields[t];if(a.name==e)return a.label}},this.headers[e].get=function(e){for(var t in this.fields){var a=this.fields[t];if(a.name==e)return a}},this.headers[e].getLabel=function(e,t){var a=this.get(e).customOptions.list,i="";return(a||[]).forEach(function(e){e.id==t&&(i=e.label)}),i},this.headers[e].tabs)for(var t in this.headers[e].tabs)this.headers[e].tabs[t].get=function(e){if(!this.fields||!this.fields.length)return null;for(var t in this.fields){var a=this.fields[t];if(a.name==e)return a}};return this.headers[e]},this.$get=function(){return this}}function t(e,t){}var a=angular.module("letsAngular",["ui.router","ngAnimate","ui.bootstrap","angular.viacep","ngCpfCnpj","ui.mask","ui.jq","ui.event","ngFileUpload","moment-filter","ui.toggle","ngSanitize","ckeditor","swangular"]);a.config(t),a.provider("headers",e),t.$inject=["$stateProvider","$httpProvider"],a.run(["$window","swangular",function(e,t){e.customConfirm=function(e,a,i,n){t.confirm(null,{html:e,title:"",type:"warning",showCancelButton:!0,confirmButtonText:a,cancelButtonText:i,reverseButtons:!0}).then(function(e){"function"==typeof n&&n(!!e.value)})}}])}(),function(){"use strict";function e(){var e=this;return e._placeholderList=["paciente"],e._placeholderAttr=["nome"],e.removeAccents=function(e){var t="ÀÁÂÃÄÅàáâãäåßÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž",a="AAAAAAaaaaaaBOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz";e=e.split("");var i,n,l=e.length;for(i=0;l>i;i++)-1!=(n=t.indexOf(e[i]))&&(e[i]=a[n]);return e.join("")},e._removeSpecialChars=function(e){var t="!@#$%*()-_+=/.,:;?[{]}`~^|";e=e.split("");var a,i=e.length;for(a=0;i>a;a++)-1!=t.indexOf(e[a])&&(e[a]="");return e.join("")},e.lemmatize=function(t){return t=e.removeAccents(t),e._removeSpecialChars(t)},e.changePlaceholders=function(t,a){return e._placeholderList.forEach(function(i,n){if(a[i]){var l="["+i.toUpperCase()+"]";if(-1!==t.indexOf(l)){var o=t.split(l),r="",s=o.length;o.forEach(function(t,l){r+=t,s-1>l&&(r+=a[i][e._placeholderAttr[n]])}),t=r}}}),t},{removeAccents:e.removeAccents,lemmatize:e.lemmatize,changePlaceholders:e.changePlaceholders}}angular.module("letsAngular").service("utilsStringService",e),e.inject=[]}(),function(){"use strict";function e(e,t,a,i){var n=this;return n._printHTML=function(e){var t=$("<iframe></iframe>").appendTo("body")[0];t.contentWindow.printAndRemove=function(){t.contentWindow.print(),setTimeout(function(){$(t).remove()},3e3)};var a='<!doctype html><html><body onload="printAndRemove();">'+e+"</body></html>",i=t.contentWindow.document.open("text/html","replace");i.write(a),i.close()},n.print=function(l,o){moment.locale("pt-br");var r=angular.extend(t.$new(),o);e(l).then(function(e){var t=a($("<div>"+e+"</div>"))(r),l=function(){r.$$phase?i(l):(n._printHTML(t.html()),r.$destroy())};l()})},{print:n.print}}e.$inject=["$templateRequest","$rootScope","$compile","$timeout"],angular.module("letsAngular").service("utilsPrintService",e),e.inject=["$templateRequest","$rootScope","$compile","$timeout"]}(),function(){"use strict";function e(){var e=this;return e.convertObjSearch=function(e,t){var a={};return Object.keys(e).forEach(function(i){if(e[i])if("object"==typeof e[i]){var n={};Object.keys(e[i]).forEach(function(a){if("createdAt"!==a&&"updatedAt"!==a){var l=a;"id"!==a&&(l="label"),"label"===l&&t&&i===t.relation?n.label=e[i][t.label]:n[l]=e[i][a]}}),a[i+".label"]=n,a[i]=n.id}else-1===i.indexOf("id")&&"createdAt"!==i&&"updatedAt"!==i&&(a[i]=e[i])}),a},e.convertObjLabels=function(e){return e.forEach(function(e){Object.keys(e).forEach(function(t){if("object"==typeof e[t]){var a=t.split(".")[0];"label"===t.split(".")[1]&&(e[a]=angular.copy(e[t]),delete e[t])}})}),e},e.setInputsFromObject=function(e){Object.keys(e).forEach(function(t){if(e[t]&&-1===t.indexOf("hashKey")&&"id"!==t&&"createdAt"!==t&&"updatedAt"!==t){var a=angular.element("#"+t).scope();void 0===a&&-1!==t.indexOf("label")&&(a=angular.element("#"+t.split(".")[0]).scope()),a&&(a.field.autocomplete?"object"==typeof e[t]&&(e[t].label||(e[t].label=e[t].nome),a.$parent.data[t]=e[t].label,a.$parent.data[t+".label"]=e[t]):a.$parent.data[t]=e[t])}})},{convertObjSearch:e.convertObjSearch,convertObjLabels:e.convertObjLabels,setInputsFromObject:e.setInputsFromObject}}angular.module("letsAngular").service("utilsObjectService",e),e.inject=[]}(),function(){"use strict";function e(){var e=this;return e.getDiffDuration=function(e,t,a){moment.isMoment(e)||(e=moment(e)),moment.isMoment(t)||(t=moment(t));var i=moment.duration(e.diff(t));switch(a){case"day":return i.asDays();case"hour":return i.asHours();case"minute":return i.asMinutes();case"second":return i.asSeconds();case"week":return i.asWeeks();case"month":return i.asMonths();case"year":return i.asYears();default:return i.asMilliseconds()}},{getDiffDuration:e.getDiffDuration}}angular.module("letsAngular").service("utilsDateTimeService",e),e.inject=[]}(),function(){"use strict";function e(){var e=this;return e._getFilledFilterAttr=function(e,t){var a={radios:[],checkboxes:[]};return Object.keys(e).forEach(function(t){null!==e[t]&&a.radios.push(t)}),Object.keys(t).forEach(function(e){t[e].length>0&&a.checkboxes.push(e)}),a},e._findCheckAttr=function(e,t){var a=null;return Object.keys(t).forEach(function(i){i===e&&(a=t[i])}),a},e.filterList=function(t,a,i,n,l,o){var r=t.slice(0),s=Object.keys(o).length,d=e._getFilledFilterAttr(a,n),c="neutral";d.checkboxes.forEach(function(e){n[e].length>l[e].length?c="add":n[e].length<l[e].length&&(c="reduce")}),"add"===c&&(r=t.slice(0),c="reduce");var u=[],f=d.checkboxes.length!==s;return f&&r.forEach(function(e,t){e.multiple&&-1===u.indexOf(t)&&u.unshift(t)}),r.forEach(function(t,l){if(t.multiple&&!f)d.checkboxes.forEach(function(a){if("reduce"===c&&n[a].length!==i[a].length){var r=!1,s=e._findCheckAttr(a,o);n[a].forEach(function(e){t[a][s]===e&&(r=!0)}),r||-1===u.indexOf(l)&&u.unshift(l)}});else{var r=!1;d.radios.forEach(function(e){r||(a[e]&&t.label===e?r=!0:a[e]||t.label!==e||(r=!1))}),r||-1===u.indexOf(l)&&u.unshift(l)}}),u.forEach(function(e){r.splice(e,1)}),r.sort(function(e,t){return moment(t.inicio).diff(moment(e.inicio),"seconds")}),r},e.orderList=function(e,t){var a=!1;return Object.keys(e[0]).forEach(function(e){t===e&&(a=!0)}),a?e.sort(function(e,a){return e[t]<a[t]?-1:e[t]>a[t]?1:0}):e},e.getMinMaxValues=function(e,t,a,i,n,l,o){var r={x:o[0][t],y:o[0][n]},s={x:o[0][t],y:o[0][n]};return o.forEach(function(e){e[t]<r.x&&(r.x=e[t]),e[t]>s.x&&(s.x=e[t]),e[n]<r.y&&(r.y=e[n]),e[n]>s.y&&(s.y=e[n])}),"date"===e?(r.x=new Date(moment(r.x).subtract(a,"day").format("MM/DD/YYYY")),s.x=new Date(moment(s.x).add(a,"day").format("MM/DD/YYYY"))):(r.x-=a,s.x+=a),"date"===i?(r.y=new Date(moment(r.y).subtract(l,"day").format("MM/DD/YYYY")),s.y=new Date(moment(s.y).add(l,"day").format("MM/DD/YYYY"))):(r.y-=l,s.y+=l),{min:r,max:s}},{filterList:e.filterList,orderList:e.orderList,getMinMaxValues:e.getMinMaxValues}}angular.module("letsAngular").service("utilsComparatorService",e),e.inject=[]}(),function(){"use strict";function e(e,t,a){var i=this;return i._createModal=function(t){return e.open(t).result},i.createCRUDModal=function(e,a,n,l,o){return i._createModal({animation:!0,templateUrl:l||"lets/views/crud/crud-modal.html",controller:n||"CRUDFormModalController",resolve:{headers:function(){var t=angular.copy(e);return t.parentScope=o,t.get=function(e){for(var a in t.fields){var i=t.fields[a];if(i.name==e)return i}},t},data:function(){try{var e=angular.copy(a)}catch(i){var e=t.extend({},a)}return e},parentScope:o},size:"lg",backdrop:e.backdrop?!0:"static",keyboard:!!e.backdrop,windowClass:e.modal_id?"modal-"+e.modal_id:""})},i.hide=function(){a.$emit("cancel-modal")},{createModal:i._createModal,createCRUDModal:i.createCRUDModal,hide:i.hide}}e.$inject=["$modal","jQuery","$rootScope"],angular.module("letsAngular").service("fwModalService",e),e.inject=["$modal","jQuery","$rootScope"]}(),function(){"use strict";function e(e){var t=this;return t.emitFormErrors=function(t){var a=[],i=Object.keys(t.$error),n=/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;for(var l in i){var o=t.$error[i[l]];for(var r in o){var s=o[r].$options.fieldInfo.label;"required"==i[l]?a.push("O campo "+s+" é obrigatório"):"date"==i[l]&&0==n.test(o[r].$viewValue)&&a.push("O campo "+s+" está com uma data inválida")}}a.length>0&&e.warning(a.join("<br />"))},{emitFormErrors:t.emitFormErrors}}e.$inject=["ngToast"],angular.module("letsAngular").service("fwErrorService",e),e.inject=["ngToast"]}(),function(){"use strict";function e(e,t,a,i,n,l,o,r){var s=l.API_URL,d=this;d.updateLocalStorage=function(e,t){var a=d.getUser();a[e]=t,d.setUserInfo(a)},d.setUserLb=function(e){t.setUser(e.id,e.userId,e.user),t.rememberMe=!0,t.save()},d.setUserInfo=function(e){window.localStorage.user=angular.toJson(e)},d.getUser=function(){return window.localStorage.user?JSON.parse(window.localStorage.user):!1},d.isAuthenticated=function(){return null!=t.currentUserId},d.authenticate=function(e){return n.authenticate(e).then(function(e){var t={accessToken:e.access_token};return o.post(s+"users/facebook/token",t)}).then(function(e){var t={id:e.data.id,userId:e.data.user.id,user:e.data.user};d.setUserLb(t),d.setUserInfo(e.data.user),d.removeSatellizer(),i.go("main.search")})["catch"](function(e){console.debug(e)})},d.logout=function(n){a.userLogout({accessToken:n}).$promise.then(function(a){t.clearUser(),t.clearStorage(),e.localStorage.removeItem("user"),i.go("login")})["catch"](function(a){t.clearUser(),t.clearStorage(),e.localStorage.removeItem("user"),i.go("login")})},d.getCurrentUserId=function(){return t.currentUserId},d.getCurrentUserToken=function(){return t.accessTokenId},d.removeSatellizer=function(){e.localStorage.getItem("satellizer_token")&&e.localStorage.removeItem("satellizer_token")}}e.$inject=["$window","LoopBackAuth","Usuario","$state","$auth","appSettings","$http","$q"],angular.module("letsAngular").service("fwAuthService",e),e.inject=["$window","LoopBackAuth","Usuario","$state","$auth","appSettings","$http"]}(),function(){"use strict";function e(e,t,a){return{restrict:"A",scope:!0,link:function(i,n){i.f={};var l=n.find('input[type="hidden"]'),o=t.STORAGE_URL;void 0!=i.field.customOptions.file.container&&(o+=i.field.customOptions.file.container+"/"),i.isFileImage=function(e){return!!e.match(/.(jpg|jpeg|png|gif)$/i)},i.isFileVideo=function(e){return!!e.match(/.(mp4|avi|webm|wmv|m4v|mpg)$/i)},i.trustSrc=function(e){return a.trustAsResourceUrl(e)},i.$on("setProgressFile",function(){i.data[i.field.name]&&(i.f={name:i.data[i.field.name],progress:100,alreadySent:!0,isImage:i.isFileImage(i.data[i.field.name]),isVideo:i.isFileVideo(i.data[i.field.name])},i.f.fileURL=o+i.f.name)}),i.removeFile=function(){i.f={},l.controller("ngModel").$setViewValue(null)},i.upload=function(t,a){function n(a){i.field.error=null,i.f.name=t.name,i.f.uploading=!0,i._upload(i.field,a).then(function(t,a){i.$emit("upload-complete",t),e(function(){i.f.progress=100,i.f.alreadySent=!0,i.f.uploading=!1,i.f.name=t.data.result.files.file[0].name,i.f.fileURL=o+i.f.name,i.f.isImage=i.isFileImage(i.f.name),i.f.isVideo=i.isFileVideo(i.f.name),l.controller("ngModel").$setViewValue(i.f.name)})},function(t){console.log(t),t.status>0&&(i.errorMsg=t.status+": "+t.data),i.$emit("upload-error",t),e(function(){i.field.error="Ocorreu um erro ao enviar o arquivo.",i.f={}})},function(t){e(function(){i.f.progress=Math.min(90,parseInt(100*t.loaded/t.total))})})}if(a.length>0&&(console.log(a),i.errFile=a&&a[0],a.forEach(function(e){"pattern"==e.$error?i.field.error="O formato do arquivo não é permitido.":"minSize"==e.$error?i.field.error="O tamanho do arquivo é menor que o permitido. ("+e.$errorParam+")":"maxSize"==e.$error?i.field.error="O tamanho do arquivo é maior que o permitido. ("+e.$errorParam+")":"minWidth"==e.$error?i.field.error="A largura do arquivo é menor que o tamanho permitido. ("+e.$errorParam+"px)":"maxWidth"==e.$error?i.field.error="A largura do arquivo é maior que o tamanho permitido. ("+e.$errorParam+"px)":"minHeight"==e.$error?i.field.error="A altura do arquivo é menor que o tamanho permitido. ("+e.$errorParam+"px)":"maxHeight"==e.$error&&(i.field.error="A altura do arquivo é maior que o tamanho permitido. ("+e.$errorParam+"px)")})),t)if("function"==typeof i.getscope){var r=i.getscope();r.$emit("before upload "+i.field.name,t,n),r.$$listeners["before upload "+i.field.name]||n(t)}else n(t)},i.dropFile=function(e,t){i.upload(e,t)}}}}angular.module("letsAngular").directive("fwUpload",e),e.$inject=["$timeout","appSettings","$sce"]}(),function(){"use strict";function e(){return{templateUrl:"lets/views/framework/paginator.html",replace:!0,scope:{totalrecords:"=",pagesize:"=",currentpage:"=",totalpages:"=",gopage:"="},controller:["$scope",function(e){e.itemsize=9,e.go=function(t){t!=e.currentpage&&t>=1&&t<=e.totalpages&&(e.gopage(t),window.scrollTo({top:100,behavior:"smooth"}))},e.getPages=function(){var t=[];if(e.currentpage){var a=Math.ceil(e.itemsize/2);a=e.currentpage-a<=0?1:e.currentpage-a;var i=a+e.itemsize;i=Math.min(i,e.totalpages),e.totalpages>e.itemsize&&i-a<e.pagesize&&(a=i-e.itemsize);for(var n=a;i>=n;n++)t.push(n)}return t}}],link:function(e,t){}}}angular.module("letsAngular").directive("fwPaginator",e),e.$inject=[]}(),function(){"use strict";angular.module("letsAngular").directive("numbersOnly",function(){return{require:"ngModel",link:function(e,t,a,i){function n(e){if(e){var t=e.replace(/[^0-9]/g,"");return t!==e&&(i.$setViewValue(t),i.$render()),t}return void 0}i.$parsers.push(n)}}})}(),function(){"use strict";function e(e,t,a,i,n){return{restrict:"E",scope:!0,templateUrl:"lets/views/framework/input.html",replace:!0,link:{pre:function(t,l,o,r){var s=l.attr("fw-data");if(void 0==t.field.customOptions.events&&(t.field.customOptions.events={}),t.fieldHtml=function(){return n.trustAsHtml(t.field.toString())},"data"!=s&&(t.data=t[s]),"detail_data"==s){var d=t.detail_key;t.field.autocomplete!==!1&&(t.autocomplete=function(e,a){return t.autocompleteDetail(d,e,a)},t.autocompleteSelect=function(e,a,i){return t.autocompleteDetailSelect(d,e,a,i)}),void 0!=t.field.customOptions.file&&(t.download=function(e,a){return t.downloadDetail(d,e,a,t.data)})}if(void 0!=t.field.customOptions.cep)l.find("input.main-input").blur(function(){var a=angular.element(this).scope();e.get(this.value).then(function(e){var i=a.field.customOptions.cep;a.data[i.address]=e.logradouro,a.data[i.district]=e.bairro,a.data[i.city]=e.localidade,a.data[i.state]=e.uf,t.$$phase||t.$apply()})});else if(void 0!=t.field.customOptions.multiple&&1==t.field.customOptions.multiple){a(l.contents())(t)}i(l).on("blur",":input[ng-model]",function(e){try{void 0!=angular.element(this).scope().field.customOptions.events.blur&&angular.element(this).scope().field.customOptions.events.blur.call(this,e)}catch(e){}}),t.isEmpty=function(e){return Object.keys(e).length}}}}}angular.module("letsAngular").directive("fwInput",e),e.$inject=["viaCEP","$timeout","$compile","jQuery","$sce"]}(),function(){"use strict";function e(e,t,a,i){return{restrict:"E",scope:!0,templateUrl:"lets/views/framework/input-detail.html",replace:!0,link:{post:function(e,t,a,i){}}}}angular.module("letsAngular").directive("fwInputDetail",e),e.$inject=["viaCEP","$timeout","$compile","jQuery"]}(),function(){"use strict";function e(e,t,a,i,n){return{restrict:"A",link:{post:function(a,n,l,o){if(o||(o=n.controller("ngModel")),"date"==a.field.type)n.mask("99/99/9999");else if(void 0!=a.field.customOptions.cpf)n.mask("999.999.999-99");else if(void 0!=a.field.customOptions.cnpj)n.mask("99.999.999/9999-99");else if(void 0!=a.field.customOptions.customMask)n.mask(a.field.customOptions.customMask);else if("float"==a.field.type)void 0!=a.field.customOptions.currency&&(n.mask("#.##0,00",{reverse:!0}),o.$parsers.unshift(function(e){return parseFloat(n.cleanVal(),10)/100}),o.$formatters.unshift(function(e){return n.masked(e?parseFloat(e).toFixed(2):null)}));else if(void 0!==a.field.customOptions.documento){var r=function(e){return e.replace(/\D/g,"").length>=12?"00.000.000/0000-00":"000.000.000-009"},s={onKeyPress:function(e,t,a,i){a.mask(r.apply({},arguments),i)}};t(function(){n.mask(r,s)},10)}else if(void 0!=a.field.customOptions.telefone){var d=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},c={onKeyPress:function(e,t,a,i){a.mask(d.apply({},arguments),i)}};t(function(){n.mask(d,c)},100)}else void 0!=a.field.customOptions.cep&&(n.mask("99999-999"),n.blur(function(){if(!this.value)return!1;var t=angular.element(this).scope();i(this).parent().attr("fw-data");e.get(this.value).then(function(e){var a=t.field.customOptions.cep;t.data[a.address]=e.logradouro,t.data[a.district]=e.bairro,t.data[a.city]=e.localidade,t.data[a.state]=e.uf,t.data[a.ibge]=e.ibge,t.data[a.gia]=e.gia,t.$emit("viacep complete",e)})}))}}}}angular.module("letsAngular").directive("fwDynamic",e),e.$inject=["viaCEP","$timeout","$compile","jQuery","$filter"]}(),function(){"use strict";function e(e,t,a,i,n){return{restrict:"E",scope:!0,template:'<span" ng-bind-html="formatData(detail_data, field)"></span>',replace:!0,link:{pre:function(t,a,i,l){t.formatData=function(t,a){if(a.autocomplete!==!1)return t[a.name+".label"]?t[a.name+".label"].label||t[a.name+".label"]:null;if("date"==a.type)return a.customOptions.hour?moment(t[a.name]).format("DD/MM/YYYY HH:mm"):moment(t[a.name]).format("DD/MM/YYYY");if("time"==a.type)return moment(t[a.name]).format("HH:mm");if("boolean"!=a.type){if("string"==a.type&&a.customOptions.file){var i=e.appSettings.API_URL+"upload/"+a.customOptions.file.container+"/download/"+t[a.name];return n.trustAsHtml('<a target="_blank" href="'+i+'" class="btn btn-default ng-scope" style=""><i class="glyphicon glyphicon-download"></i></a>')}if("float"==a.type){if(a.customOptions&&a.customOptions.currency){var l=t[a.name],l=l.toFixed(2).split(".");return l[0]="R$ "+l[0].split(/(?=(?:...)*$)/).join("."),l.join(",")}return t[a.name]}if("custom"==a.type){var o=a.toString({attributes:t});return o&&o[0]&&o[0].outerHTML?n.trustAsHtml(o[0].outerHTML):""}return t[a.name]}return a.customOptions.statusFalseText&&a.customOptions.statusTrueText?t[a.name]?a.customOptions.statusTrueText:a.customOptions.statusFalseText:void 0}}}}}angular.module("letsAngular").directive("fwDetailData",e),e.$inject=["$rootScope","$timeout","$compile","jQuery","$sce"]}(),function(){"use strict";function e(e,t){var a="vm";return{restrict:"A",require:"?ngModel",scope:!0,terminal:!0,priority:1,compile:function(t,i){function n(e,a){var i=t.attr(e);angular.isDefined(i)&&i!==!1||t.attr(e,a)}var l=angular.element('<div class="input-group"><span class="input-group-btn"><button type="button" class="btn btn-default bcalendar" ng-disabled="field.disabled" ng-click="'+a+'.openPopup($event)"><i class="glyphicon glyphicon-calendar"></i></button></span></div>');return n("type","text"),n("is-open",a+".popupOpen"),n("show-button-bar",!1),n("show-weeks",!1),n("datepicker-options","datepickerOptions"),t.addClass("form-control"),t.removeAttr("fw-date-picker"),t.after(l),l.prepend(t),function(t,a){var n={};if(void 0===t.data&&(t.data={}),t.field?null!=t.data[t.field.name]&&(n.initDate=new Date(t.data[t.field.name]),t.data[t.field.name]=angular.copy(n.initDate)):(t.field={customOptions:[]},i.fwDatePickerNgModelParent?(n.initDate=new Date(t.$parent[i.ngModel]),t.$parent[i.ngModel]=angular.copy(n.initDate)):(n.initDate=new Date(t[i.ngModel]),t[i.ngModel]=angular.copy(n.initDate))),void 0!==t.field.customOptions.monthpicker){n.datepickerMode="'month'",n.minMode="month";var l="MM/yyyy";a.find("input").attr("placeholder","MM/YYYY"),a.find("input").attr("data-date-format","MM/YYYY")}else{var l="dd/MM/yyyy";a.find("input").attr("placeholder","DD/MM/YYYY"),a.find("input").attr("data-date-format","DD/MM/YYYY")}a.find("input").attr("datepicker-popup",l),a.find("input").blur(function(){moment(this.value,l).isValid()||""===this.value?t.field.error=!1:t.field.error=!0}),a.find("input").click(function(e){a.find("button.bcalendar").click()}),t.datepickerOptions=n,e(a)(t)}},controller:["$scope",function(e){this.popupOpen=!1,this.openPopup=function(e){e.preventDefault(),e.stopPropagation(),this.popupOpen=!0}}],controllerAs:a}}angular.module("letsAngular").directive("fwDatePicker",e),e.$inject=["$compile","jQuery"]}(),function(e,t){"function"==typeof define&&define.amd?define(["angular"],t):t(angular)}(this,function(e){function t(e){return{restrict:"A",require:["ckeditor","ngModel"],controller:["$scope","$element","$attrs","$parse","$q",a],link:function(t,a,n,l){var o=l[0],r=l[1];o.ready().then(function(){["dataReady","change","blur","saveSnapshot"].forEach(function(e){o.onCKEvent(e,function(){r.$setViewValue(o.instance.getData()||""),$(a).val(o.instance.getData()).trigger("keyup")})}),o.instance.setReadOnly(!!n.readonly),n.$observe("readonly",function(e){o.instance.setReadOnly(!!e)}),i(function(){e(n.ready)(t)})}),r.$render=function(){o.ready().then(function(){o.instance.setData(r.$viewValue||"",{noSnapshot:!0,callback:function(){o.instance.fire("updateSnapshot")}})})}}}}function a(e,t,a,n,l){var o,r=n(a.ckeditor)(e)||{},s=t[0],d=l.defer(),c="Full";"basic"==r.type.toString().toLowerCase()?c="Basic":"standard"==r.type.toString().toLowerCase()&&(c="Standard");var u={language:"pt-br",toolbar:c,forcePasteAsPlainText:!0,pasteFromWordRemoveStyles:!0,pasteFromWordRemoveFontStyles:!0,toolbar_Basic:[{name:"basicstyles",items:["Bold","Italic","Underline","Strike","-"]},{name:"paragraph",items:["NumberedList","BulletedList","-"]},{name:"editing",items:["Find"]},{name:"clipboard",items:["Cut","Copy","-","Undo","Redo"]}],toolbar_Standard:[{name:"document",items:["Source","-"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","-"]},{name:"paragraph",items:["NumberedList","BulletedList","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-"]},{name:"editing",items:["Find"]},{name:"clipboard",items:["Cut","Copy","-","Undo","Redo"]},{name:"links",items:["Link","Unlink"]},{name:"insert",items:["Image","Table","HorizontalRule"]}],toolbar_Full:[{name:"document",items:["Source"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","-"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl"]},{name:"clipboard",items:["Cut","Copy","Paste","-","Undo","Redo"]},{name:"editing",items:["Find"]},{name:"links",items:["Link","Unlink"]},{name:"insert",items:["Image","Table","HorizontalRule","Smiley","SpecialChar","Iframe"]},{name:"styles",items:["Styles","Format","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks"]}]};o=s.hasAttribute("contenteditable")&&"true"==s.getAttribute("contenteditable").toLowerCase()?this.instance=CKEDITOR.inline(s,u):this.instance=CKEDITOR.replace(s,u),this.onCKEvent=function(t,a){function n(){var e=arguments;i(function(){l.apply(null,e)})}function l(){var t=arguments;e.$apply(function(){a.apply(null,t)})}return o.on(t,n),function(){o.removeListener(t,l)}},this.onCKEvent("instanceReady",function(){d.resolve(!0)}),this.ready=function(){return d.promise},e.$on("$destroy",function(){d.promise.then(function(){o.destroy(!1)})})}e.module("ckeditor",[]).directive("ckeditor",["$parse",t]);var i=window&&window.setImmediate?window.setImmediate:function(e){setTimeout(e,0)}}),function(){"use strict";function e(e,t,a){return{restrict:"E",replace:!1,scope:{crudChartSettings:"&",crudChartData:"&"},templateUrl:"lets/views/framework/chart.html",controller:["$scope",function(i){var n=i.crudChartSettings(),l=n.chart_settings,o=i.crudChartData();i.key=n.key,i.d3chartUpdate=!1;var r=t.getMinMaxValues(l.xType,l.xLabel,l.xOffset,l.yType,l.yLabel,l.yOffset,o),s={x:[r.min.x,r.max.x],y:[r.min.y,r.max.y]};i.d3chartStartDate=r.min.x,i.d3chartEndDate=r.max.x,i.d3chartConfig=e.configD3chart("line",["#092e64"],s),i.d3chartData=e.configD3chartData(n.fillArea||!1,n.key,o),i.$watch("d3chartStartDate",function(t,n){r.min.x=t,s={x:[r.min.x,r.max.x],y:[r.min.y,r.max.y]},i.d3chartConfig=e.configD3chart("line",["#092e64"],s),t!=n&&a.$broadcast("update-chart",{type:"filter"})}),i.$watch("d3chartEndDate",function(t,n){r.max.x=t,s={x:[r.min.x,r.max.x],y:[r.min.y,r.max.y]},i.d3chartConfig=e.configD3chart("line",["#092e64"],s),t!=n&&a.$broadcast("update-chart",{type:"filter"})})}],link:function(e,t,a,i,n){e.$el=t}}}angular.module("letsAngular").directive("fwChart",e),e.$inject=["fwChartService","fwComparatorService","$rootScope"]}(),function(){"use strict";function e(e,t){var a="vm";return{restrict:"A",priority:1,link:function(e,a){var i=a.find("input"),n=function(){i.val()||(i.controller("ngModel").$setViewValue(void 0),t(function(){i.controller("ngModel").$setViewValue("")}))};a.find("button").click(n),i.click(n),i.keyup(function(){""==this.value.trim()&&(i.scope().data[i.attr("name")]=null)}),a.find(".icon.fa-close").click(function(){i.scope().data[i.attr("name")]=null,i.scope().data[i.attr("name")+".label"]=null,i.scope().autocompleteSelect({id:null},{id:null}),i.val(""),i.controller("ngModel").$setViewValue("")})},controller:function(){},controllerAs:a}}angular.module("letsAngular").directive("fwAutoComplete",e),e.$inject=["$compile","$timeout"]}(),function(){"use strict";function e(e,t,a,i){var n="vm";return{restrict:"A",priority:1,link:function(e,i){var n=e;n.tableSelected=function(e,t,a){n.tableVisibily=!1;var i=e.currentTarget.firstElementChild.firstChild.data.trim();n.data[t]=a.id,n.data[t+".labelCopy"]={id:a.id,label:i},n.data[t+".label"]=i},n.loadDataAutoCompleteTable=function(e,l){var o=i.find(":input").val().split(" "),r="/^("+o[0]+")";o.splice(0,1),o.forEach(function(e){r+="(?=.*"+e+")"}),r+=".*/i";var s='{"limit": 5,"where":{"'+l+'":{"regexp":"'+r+'"}}}',d=t.appSettings.API_URL+e+"?filter="+s,c=t.appSettings.API_URL+e+"/crudGET/";a.get(d).then(function(e){n.autoCompleteTableData2=[],e.data.forEach(function(e){a.get(c+e.id).then(function(e){n.autoCompleteTableData2.push(e.data)})})})}},controller:["$scope",function(e){e.autoCompleteTableFocus=function(t){e.tableVisibily=!0},e.autoCompleteTableLostFocus=function(){setTimeout(function(){e.$apply(function(){e.tableVisibily=!1})},100)},e.updateAutoCompleteTable=function(t,a){e.loadDataAutoCompleteTable(t,a)}}],controllerAs:n}}angular.module("letsAngular").directive("fwAutoCompleteTable",e),e.$inject=["$compile","$rootScope","$http","$timeout"]}(),function(){"use strict";function e(e){return{scope:{crudTabListData:"=",crudTabListSettings:"&",parentData:"="},templateUrl:"lets/views/crud/crud-tab-list.html",link:function(e,t){setTimeout(function(){var t=e.crudTabListSettings();e.data=e.parentData,e.type=t.type,e.headers=t.headers,e.app=e.$parent.app,e.crudTabListData&&(e.extraData=e.crudTabListData)},1e3)}}}angular.module("letsAngular").directive("crudTabList",e),e.$inject=["jQuery"]}(),function(){"use strict";function e(e,t,a,i,n,l){return{templateUrl:"lets/views/crud/crud-list-table.html",scope:{settings:"="},controller:["$scope","$controller",function(e,o){o("AutoCompleteController",{$scope:e});var r=e.settings.headers;e.tab=e.settings.tab,e.filterdata={},e.tableData={total_count:0,total_entries:0,currentpage:1,data:[]},e.currentPage=1,e.perPage=r.perPage||15,"function"!=typeof r.get&&(r.get=function(e){for(var t in r.fields){var a=r.fields[t];if(a.name==e)return a}}),"function"!=typeof r.getLabel&&(r.getLabel=function(e,t){var a=r.get(e).customOptions.list,i="";return(a||[]).forEach(function(e){e.id==t&&(i=e.label)}),i}),e.tab?(e.resource=t.all(e.settings.url),r.settings||(r.settings={add:!0,edit:!0,"delete":!0}),e.sort=r.sort):(e.resource=t.all(r.route),e.sort=r.settings.sort),e.getFilter=function(){return decodeURIComponent(i.location.search).replace("?filter=","")},e.openBuscaAvancada=function(){e.showBuscaAvancada=!e.showBuscaAvancada,e.showBuscaAvancada||e.refreshTable(!0)},e.parseRecord=function(e,t){if("boolean"==t.type)return e[t.name]?t.customOptions.statusTrueText:t.customOptions.statusFalseText;if("custom"==t.type)return"";if("date"==t.type){if(e[t.name])return void 0!==t.customOptions.monthpicker?moment(e[t.name]).format("MM/YYYY"):t.customOptions.timestamp?moment(e[t.name]).format("L LTS"):t.customOptions.format?moment(e[t.name]).format(t.customOptions.format):moment(e[t.name].replace("Z","")).format("L")}else if(1==t.autocomplete){if(e[t.name]){if(!t.customOptions||void 0==t.customOptions.list)return e[t.name+".label"];for(var a=0;a<t.customOptions.list.length;a++){const i=t.customOptions.list[a];if(i.id==e[t.name])return i.label}}}else if("float"==t.type&&t.customOptions&&t.customOptions.currency){if(null!==e[t.name]&&void 0!==e[t.name]){var n=parseFloat(e[t.name]),n=n.toFixed(2).split(".");return n[0]="R$ "+n[0].split(/(?=(?:...)*$)/).join("."),n.join(",")}}else if(null!==e[t.name]&&void 0!==e[t.name])return e[t.name]},e.getDateFormated=function(e){return moment(e).format("L")},e.refreshTable=function(t){e.tableData.data=void 0;var i=r.pagerGeneral?"pagerGeneral":"pager",n={page:e.currentPage,per_page:e.perPage};r.route_pager&&(i=r.route_pager),e.tab?n.scope=r.filterScope:r.settings&&r.settings.filterScope&&(n.scope=r.settings.filterScope);var o=[];if(e.showBuscaAvancada){e.filterdata.q=null;for(var s=0;s<e._fields.length;s++){const d=e._fields[s];e.filterdata[d.name]&&(n["filter["+d.name+"]"]=e.filterdata[d.name],d.customOptions&&d.customOptions.telefone&&(n["filter["+d.name+"]"]=e.filterdata[d.name].replace(/\D/g,"")),"date"==d.type&&(n["filter["+d.name+"]"]=e.getDateFormated(e.filterdata[d.name])),d.autocomplete&&(n["filter["+d.name+"_label]"]=e.filterdata[d.name+".label"].label,o.push(d.name+"_label="+n["filter["+d.name+"_label]"])),o.push(d.name+"="+n["filter["+d.name+"]"]))}}else e.filterdata.q&&(n.q=e.filterdata.q,o.push("q="+n.q));if(1!=e.currentPage&&o.push("pg="+e.currentPage),e.sort){if(o.push("or="+e.sort.sortKey),n.sort_by=e.sort.sortKey,e.sort.sortKey){var c=r.get(e.sort.sortKey);c&&c.autocomplete&&!c.customOptions.list&&(n.sort_by+=".label")}o.push("by="+e.sort.order),n.order=e.sort.order}r.updateLocation===!1&&(t=!1),t&&!e.tab&&l.transitionTo(l.$current.name,{filter:o.join("&")},{location:!0,inherit:!0,relative:l.$current,notify:!1}),"function"!=typeof e.searchRecords?(e.searching=!0,e.resource.customGET(i,n).then(function(t){a(function(){e.searching=!1,e.tableData=t,e.tableData.currentPage=e.currentPage,e.$emit("refreshTable")})},function(){e.tableData={}})):e.searchRecords(n,i)},e.edit=function(t){if(e.tab){var a=e.settings.getscope();a.newDetail(r,null,t.id,e.settings.url)}else l.go(l.current.name.replace(/\.list$/,".edit"),{id:t.id,page:null,filter:e.getFilter()})},e["delete"]=function(t){i.customConfirm(n.translate("letsfw.message_delete"),n.translate("letsfw.ok"),n.translate("letsfw.cancelar"),function(a){if(a)if(e.tab){var i=e.settings.getscope();i.deleteDetail(e.settings.url,t)}else e.resource.customDELETE(t.id).then(function(){e.refreshTable()})})},e.newDetail=function(){var t=e.settings.getscope();t.newDetail(r)},e.filterTable=function(t){return t.filterForm.$valid?(e.currentPage=1,void e.refreshTable(!0)):!1},e.startTable=function(){if(e.tab)return e.settings.getscope().$emit("create:"+e.settings.tab_name,e),void e.refreshTable();if(l.params.filter){var t={};if(l.params.filter.split("&").forEach(function(e){var a=e.split("=");t[a[0]]=a[1]}),t.pg&&(e.currentPage=t.pg),(t.or||t.by)&&(e.sort={sortKey:t.or,order:t.by}),t.q)e.filterdata.q=t.q;else{for(var a=0;a<e._fields.length;a++){const i=e._fields[a];t[i.name]&&("date"==i.type?e.filterdata[i.name]=moment(t[i.name],"L"):i.autocomplete?(e.filterdata[i.name]=t[i.name],e.filterdata[i.name+".label"]={id:t[i.name],label:t[i.name+"_label"]}):e.filterdata[i.name]=t[i.name]);
}Object.keys(e.filterdata).length>0&&(e.showBuscaAvancada=!0)}}e.$emit("create:grid",e),r.isReport||e.refreshTable()},e.gopage=function(t){e.currentPage=t,e.refreshTable(!0)},e.order=function(t){!e.sort||e.sort&&e.sort.sortKey!=t?e.sort={sortKey:t,order:"asc"}:"asc"==e.sort.order?e.sort={sortKey:t,order:"desc"}:"desc"==e.sort.order&&(e.sort=void 0),e.refreshTable(!0)},e.getscope=function(){return e},e.$on("refreshGRID",function(t){e.refreshTable()})}],link:function(e,t){e.headers=e.settings.headers,e._fields=angular.copy(e.headers.fields),e.fieldsFilter=[];for(var a=0;a<e._fields.length;a++){const i=e._fields[a];i.filter&&(i.disabled=!1,i.quickAdd=!1,i.notnull=i.filter.required?!0:!1,i.name=i.name,i.placeholder=i.filter.placeholder?i.filter.placeholder:"",i.customOptions.file&&delete i.customOptions.file,"text"==i.type?i.type="string":"boolean"==i.type&&(i.type="number",i.autocomplete=!0,i.customOptions={list:[{id:"false",label:i.customOptions.statusFalseText},{id:"true",label:i.customOptions.statusTrueText}],select:!0}),e.fieldsFilter.push(i))}"fixed"==e.headers.search&&(e.showBuscaAvancada=!0,e.hideInputSearch=!0),e.startTable()}}}function t(){return{scope:{data:"=",idx:"=",field:"=",getscope:"="},link:function(e,t){e.field.toString&&"function"==typeof e.field.toString&&t.append(e.field.toString(e.data,e.getscope(),e.idx))}}}function a(){return{replace:!1,link:function(e,t){$(t).parsley({priorityEnabled:!1,errorsContainer:function(e){return e.$element.closest(".input-container")}})}}}var i=angular.module("letsAngular");i.directive("crudListTable",e),e.$inject=["$q","Restangular","$timeout","$window","locale","$state"],i.directive("fwCustomField",t),t.$inject=[],i.directive("filterForm",a),a.$inject=[]}(),function(){"use strict";function e(e,t,a){return{replace:!1,link:function(a,i){e(i).on("click",".button-new",function(){var t=e(this).attr("detail"),i=e(this).attr("origin"),n="true"==e(this).attr("form-modal");a.newDetailData(i,t,n)}),t(function(){i.find(".tab-group .nav-tabs li:first").find("a").click(),i.find(':input[type!="hidden"]:first').focus()},500),$(i).parsley({priorityEnabled:!1,errorsContainer:function(e){return e.$element.closest(".input-container")}})}}}angular.module("letsAngular").directive("crudForm",e),e.$inject=["jQuery","$timeout","appSettings"]}(),function(){"use strict";function e(e,t,a,i,n){return{templateUrl:"lets/views/crud/crud-filter.html",replace:!0,scope:{fields:"&",route:"&",search:"&",clearButton:"=clearButton"},controller:["$scope",function(e){}],link:function(l,o){l.data={},l.showBuscaAvancada=!1;var r;l.fieldsFilter=[],l.startFilters=function(){r=angular.copy(l.fields()),l.fieldsFilter=[],r=r.filter(function(e){return e.filter}),r.forEach(function(e,t){if(e.filter){if(e.disabled=!1,e.notnull=!1,e.name=e.name,e.customOptions.file&&delete e.customOptions.file,"text"==e.type)e.type="string";else if("boolean"==e.type)e.type="number",e.autocomplete=!0,e.customOptions={list:[{id:"false",label:e.customOptions.statusFalseText},{id:"true",label:e.customOptions.statusTrueText}],select:!0};else if("date"==e.type){if("object"==typeof e.filter&&e.filter.range===!0){var a=angular.copy(e);a.name+="_ini",a.label+=" (Início)",l.fieldsFilter.push(a);var i=angular.copy(e);return i.name+="_fim",i.label+=" (Término)",void l.fieldsFilter.push(i)}}else if(("number"==e.type||"integer"==e.type||"float"==e.type||"bigint"==e.type)&&"object"==typeof e.filter&&e.filter.range===!0){var a=angular.copy(e);a.name+="_ini",a.label+=" (Início)",l.fieldsFilter.push(a);var i=angular.copy(e);return i.name+="_fim",i.label+=" (Término)",void l.fieldsFilter.push(i)}l.fieldsFilter.push(e)}}),l.fieldsFilter=l.fieldsFilter.sort(function(e,t){var a=e.filter.sequence||0,i=t.filter.sequence||0;return a-i}),setTimeout(function(){l.$emit("filter-init",l),l.$broadcast("filter-init",l)},500)},l.autocomplete=function(a,i){l.$emit("before-filter-autocomplete",l),l.resource=t.all(l.route());var o=[],r=e.defer();if(a.autocomplete_dependencies.length>0){var s=a.autocomplete_dependencies;for(var d in s){var c=s[d];if(void 0==l.data[c.field]||null==l.data[c.field]||"null"==l.data[c.field]){var u=n.translate("letsfw.select_before").replace("%name%",c.label.toLocaleLowerCase()).replace("%gender%",c.gender?c.gender:"o(a)"),f=[];return f.push({id:null,label:u}),r.resolve(f),r.promise}o[c.field]=l.data[c.field]}}if(i=i.trim(),(0==i.length||1==a.customOptions.select)&&(i="[blank]"),void 0!==a.customOptions.general)l.resource.customGET("general/autocomplete/"+a.customOptions.general+"/"+i,o).then(function(e){r.resolve(e)},function(){return r.reject()});else if(void 0==a.customOptions.list){var p="autocomplete/"+a.name+"/"+i;1==a.customOptions.select?o.limit=0:o.limit=20,l.resource.customGET(p,o).then(function(e){a.customOptions.onlyList||e.unshift({id:"null",label:n.translate("letsfw.is_blank")}),e.unshift({id:null,label:"--- "+n.translate("letsfw.select")+" ---"}),r.resolve(e)},function(){return r.reject()})}else{var m=angular.copy(a.customOptions.list)||[];1==a.customOptions.select&&(a.customOptions.onlyList||m.unshift({id:"null",label:n.translate("letsfw.is_blank")}),a.customOptions.required||m.unshift({id:null,label:"--- "+n.translate("letsfw.select")+" ---"})),r.resolve(m)}return r.promise},l.autocompleteSelect=function(e,t,i){l.$emit("after-filter-autocomplete",{scope:l,name:this.field.name,value:e});var n=this.data;if(void 0==n&&(n={}),null!=e.id&&"integer"!=typeof e.id||"integer"==typeof e.id&&e.id>0)n[this.field.name]=e.id;else{if(null!=e.id)return n[this.field.name+".label"]=null,!1;n[this.field.name]=n[this.field.name+".label"]=null}this.data=n;var o=this.field;a(function(){jQuery("#"+o.name).trigger("keyup")})},l.filterData=function(e){l.objFilter=void 0;var t={};l.data.showBuscaAvancada&&(l.showBuscaAvancada=angular.copy(l.data.showBuscaAvancada),delete l.data.showBuscaAvancada),l.showBuscaAvancada||l.data.showBusca?(r.forEach(function(e,a){if("object"==typeof e.filter&&e.filter.range===!0){var i={};l.data[e.name+"_ini"]&&(i.ini=l.data[e.name+"_ini"],"date"==e.type&&(i.ini=l.getDateFormated(i.ini))),l.data[e.name+"_fim"]&&(i.fim=l.data[e.name+"_fim"],"date"==e.type&&(i.fim=l.getDateFormated(i.fim))),Object.keys(i).length>0&&(t[e.name]=i)}l.data[e.name]&&(t[e.name]=l.data[e.name],e.customOptions&&e.customOptions.telefone&&(t[e.name]=l.data[e.name].replace(/\D/g,"")),"date"==e.type&&(t[e.name]=l.getDateFormated(t[e.name])),e.autocomplete&&(t[e.name+"_label"]=l.data[e.name+".label"].label))}),l.data.q=null,l.objFilter={data:{filter:t}}):(t.q=l.data.q,t.p=l.data.p,l.objFilter={data:t}),l.$emit("after-filter-data",l.objFilter),e&&i.$broadcast("refreshGRID",!1,!0)},l.openBuscaAvancada=function(){l.showBuscaAvancada=!l.showBuscaAvancada},l.clearBusca=function(){Object.keys(l.data).forEach(function(e){l.data[e]=null}),l.filterData(!0)},l.getDateFormated=function(e){return moment(e).format("DD/MM/YYYY")},l.startFilters(),l.$on("refresh-fields",function(e,t){l.startFilters()}),"fixed"==l.search()&&(l.showBuscaAvancada=!0,l.hideInputSearch=!0)}}}angular.module("letsAngular").directive("crudFilter",e),e.$inject=["$q","Restangular","$timeout","$rootScope","locale"]}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"lets/views/framework/breadcrumb.html",replace:!0,link:function(t,a){t.idData=e.params.id}}}angular.module("letsAngular").directive("crudBreadcrumb",e),e.$inject=["$state"]}(),function(){"use strict";function e(e){this.$get=e.$get,this.state=e.state,this.setCRUDRoutes=function(e){var t={main:{enable:!0,templateUrl:"lets/views/crud/crud.html",controller:"CRUDController"},list:{enable:!0,templateUrl:"lets/views/crud/crud-list.html",controller:"CRUDController",resolve:{}},edit:{enable:!0,templateUrl:"lets/views/crud/crud-edit.html",controller:"CRUDEditController",resolve:{}},"new":{enable:!0,templateUrl:"lets/views/crud/crud-edit.html",controller:"CRUDEditController",resolve:{}}},a=angular.merge(t,e.options);const i=e.module||"app";a.main.enable&&this.state(i+"."+e.route,{"abstract":!0,url:"/"+e.route,templateUrl:a.main.templateUrl,controller:a.main.controller,resolve:{id:["$stateParams",function(e){return e.id}],module:function(){return e.modelName}}}),a.list.enable&&this.state(i+"."+e.route+".list",{url:"?filter",templateUrl:a.list.templateUrl,controller:a.list.controller,resolve:a.list.resolve}),a["new"].enable&&this.state(i+"."+e.route+".new",{url:"/new?filter",templateUrl:a["new"].templateUrl,controller:a["new"].controller,resolve:a["new"].resolve}),a.edit.enable&&this.state(i+"."+e.route+".edit",{url:"/:id/edit?filter",templateUrl:a.edit.templateUrl,controller:a.edit.controller,resolve:a.edit.resolve})}}e.$inject=["$stateProvider"],angular.module("letsAngular").provider("fwState",e)}(),function(){"use strict";function localeProvider(){this.locale,this.catalog={},this.onSetLocale,this.addCatalog=function(e,t){return this.catalog[e]?(console.error(e+" property already exists in the catalog."),!1):void(this.catalog[e]=t)},this.translate=function(varname){var pos=eval("this.catalog."+varname);return pos&&pos[this.locale]?pos[this.locale]:"{{__"+varname+"__}}"},this.setLocale=function(e){this.changeLocale(e),"pt-br"==this.locale?(window.ParsleyValidator.setLocale("pt-br"),moment.locale("pt-br")):"en"==this.locale?(window.ParsleyValidator.setLocale("en"),moment.locale("en")):"es"==this.locale&&(window.ParsleyValidator.setLocale("es"),moment.locale("es")),"function"==typeof this.onSetLocale&&this.onSetLocale(e)},this.getLocale=function(){return this.locale},this.changeLocale=function(e){this.locale=e},this.$get=function(){return this},this.setLocale("pt-br")}function locale(e){return function(t){return e.translate(t)}}function dateFormat(){return function(e,t){return e?moment(e).format(t):void 0}}locale.$inject=["locale"];var module=angular.module("letsAngular");module.provider("locale",localeProvider),module.filter("locale",locale),locale.inject=["locale"],module.filter("date_format",dateFormat)}(),function(){"use strict";function e(){this.$get=["$templateRequest",function(e){return new t(e)}]}function t(e){var t=this;return t.getCrudBaseTemplate=function(){return e("lets/views/crud/crud.html")},t.getCrudListTemplate=function(){return e("lets/views/crud/crud-list.html")},t.getCrudEditTemplate=function(){return e("lets/views/crud/crud-edit.html")},{getCrudBaseTemplate:t.getCrudBaseTemplate,getCrudListTemplate:t.getCrudListTemplate,getCrudEditTemplate:t.getCrudEditTemplate}}angular.module("letsAngular").provider("fwFileLoad",e)}(),function(){"use strict";var e=angular.module("letsAngular");e.config(["localeProvider",function(e){e.addCatalog("letsfw",{save:{"pt-br":"Salvar",en:"Save",es:"Guardar"},cancel:{"pt-br":"Voltar",en:"Return",es:"Regresar"},cancelar:{"pt-br":"Cancelar",en:"Cancel",es:"Cancelar"},ok:{"pt-br":"Ok",en:"OK",es:"Feito"},editar:{"pt-br":"Editar",en:"Edit",es:"Editar"},excluir:{"pt-br":"Excluir",en:"Delete",es:"Eliminar"},select:{"pt-br":"Selecione",en:"Select",es:"Seleccione"},is_blank:{"pt-br":"[Em Branco]",en:"[Is blank]",es:"[En blanco]"},select_before:{"pt-br":"Selecione antes %gender% %name%",en:"Select %name% first",es:"Seleccione %name% primero"},no_record_found:{"pt-br":"Nenhum registro encontrado.",en:"No records found.",es:"No se encontraron registros."},add_new:{"pt-br":"Adicionar novo",en:"Add new",es:"Agregar nuevo"},message_delete:{"pt-br":"Deseja realmente excluir esse registro?",en:"Do you really want to delete this record?",es:"¿Desea realmente excluir este registro?"},actions:{"pt-br":"Ações",en:"Actions",es:"Acciones"},records_page:{"pt-br":"Registros na página",en:"Records on page",es:"Registros en la página"},search:{"pt-br":"Buscar",en:"Search",es:"Buscar"},search_by:{"pt-br":"Buscar por",en:"Search by",es:"Buscar"},search_advanced:{"pt-br":"Busca Avançada",en:"Advanced search",es:"Búsqueda Avanzada"},clear_filter:{"pt-br":"Limpar Filtro",en:"Clear Filter",es:"Filtro claro"},new_record:{"pt-br":"Novo Registro",en:"New Record",es:"Nuevo Record"},main_information:{"pt-br":"Informações Principais",en:"Main Information",es:"Información Principal"},first:{"pt-br":"Primeiro",en:"First",es:"Primero"},previous:{"pt-br":"Anterior",en:"Previous",es:"Anterior"},next:{"pt-br":"Próximo",en:"Next",es:"Próximo"},last:{"pt-br":"Último",en:"Last",es:"Último"}})}])}(),function(){"use strict";function e(e){if(null!=e){"string"==typeof e&&(e=new Date(e));var t=" meses",a=moment(e),i=moment().diff(a,"months");return i?i>12&&(t=" anos",i=moment().diff(a,"years")):(t=" dias",i=moment().diff(a,"days")),i+t}}e.$inject=["birthday"],angular.module("letsAngular").filter("fwAgeMonth",e)}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("CRUDController",["$scope","Restangular","module","$state","$window","$rootScope","headers",function(e,t,a,i,n,l,o){function r(){var t=angular.copy(o.get(a));e.headers=t}e.headersReady=!1,e.export_btn_is_disable=!1,r(),e.$on("refresh-headers",function(){r()}),e.resource=t.all(e.headers.route),e.$broadcast("headers-set"),e.headersReady=!0,e.getFilter=function(){return decodeURIComponent(n.location.search).replace("?filter=","")},e.goNew=function(){i.go(i.current.name.replace(".list",".new"),{filter:e.getFilter()})},e.goToList=function(){-1==i.current.name.indexOf(".list")&&i.go(i.current.name.replace(".edit",".list").replace(".new",".list"),{filter:e.getFilter()})},e.edit=function(t){i.go(i.current.name.replace(/\.list$/,".edit"),{id:t.id,page:null,filter:e.getFilter()})},e["delete"]=function(t){return e.resource.customDELETE(t.id).then(function(){l.$broadcast("refreshGRID")})},e["export"]=function(){},e.getscope=function(){return e}}])}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("CRUDFormModalController",["$controller","$scope","$modalInstance","headers","Restangular","$rootScope","data","fwErrorService",function(t,a,i,n,l,o,r,s){t("CRUDEditController",{$scope:a,module:e}),a.data=r||{},a.headers=n,a.resource=l.all(n.route),a.cancel=function(){i.dismiss("cancel")},a.submit=function(e){function t(){function e(){}i.close(a.data),a.$emit("after save",e,a.data,l),a.$$listeners["after save"]||e()}var n=a.data;if(!e.crudForm.$valid)return!1;if(a.data._edit)var l="edit";else var l="new";return _.each(a.headers.fields,function(t,a){t.error=void 0,n[t.name]||0==n[t.name]||t.notnull||"number"!==t.type||(n[t.name]=null),t.autocomplete&&n[t.name+".label"]&&"object"!=typeof n[t.name+".label"]&&(t.error="Campo inválido, selecione novamente.",e.crudForm.$valid=!1)}),e.crudForm.$valid?(a.$emit("before save",t),void(a.$$listeners["before save"]||t())):!1},o.$on("cancel-modal",function(e,t){i.dismiss("cancel")});var d=n.parentScope;delete n.parentScope,n.modal_id&&(o.$emit("open:"+n.modal_id,a),d&&d.$emit("open:"+n.modal_id,a)),a.fetchData()}])}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("CRUDEditController",["$scope","$controller","Restangular","$stateParams","$timeout","module","$state","$rootScope","ngToast","$http","Upload","fwModalService","$window","locale",function(e,t,a,i,n,l,o,r,s,d,c,u,f,p){t("AutoCompleteController",{$scope:e}),e.data={},e.module=l,e.$http=d,e.$emit("refresh-headers"),e.datepickers={},e.loading_http_request=!1,e.datepickerToggle=function(t){void 0==e.datepickers[t]&&(e.datepickers[t]=!1),e.datepickers[t]=!e.datepickers[t]},e.fetchData=function(t,a){for(var l in e.headers.fields){var o=e.headers.fields[l];"boolean"==o.type&&void 0==e.data[o.name]&&(o.customOptions["default"]?e.data[o.name]=!0:e.data[o.name]=!1)}if(a)var r=e.resource,s=e.headers.id,d={"new":"data-new-detail",edit:"data-loaded-detail"};else var r=e.$parent.resource,s="crudGET/"+i.id,d={"new":"data-new",edit:"data-loaded"};t?r.customGET(s).then(function(t){e.parseData(t),n(function(){e.$emit(d.edit),e.$broadcast("setProgressFile")})}):(e.parseData(e.data),n(function(){e.$emit(d["new"]),e.$broadcast("setProgressFile")},50))},e.parseData=function(t){for(var a in e.headers.fields){var i=e.headers.fields[a];if("date"==i.type&&void 0!=t[i.name]&&null!=t[i.name]){var n=new Date(t[i.name].replace("Z",""));t[i.name]=n}i.customOptions&&void 0!=i.customOptions.list?i.customOptions.list.forEach(function(e){e.id==t[i.name]&&(t[i.name+".label"]=e)}):i.autocomplete&&t[i.name+".label"]&&"object"!=typeof t[i.name+".label"]&&(t[i.name+".label"]={id:t[i.name].id,label:t[i.name+".label"]}),"password"==i.type&&(i.notnull=!1),i.customOptions&&void 0!=i.customOptions.file&&(e.fileName=t[i.name])}e.data=t},e.headersReady&&e.fetchData(i.id),e.$on("headers-set",function(){e.fetchData(i.id)}),e.getscope=function(){return e},e._upload=function(e,t){var a=r.appSettings.API_URL,i=e.customOptions.file.container.replace(/\//g,"__");return void 0!=e.customOptions.file.url&&void 0==e.customOptions.file.container?a+=e.customOptions.file.url:void 0==e.customOptions.file.url&&void 0!=e.customOptions.file.container?a+="upload/"+i+"/upload":void 0!=e.customOptions.file.url&&void 0!=e.customOptions.file.container&&(a+="upload/"+i+"/"+e.customOptions.file.url),c.upload({url:a,data:{file:t}})},e.download=function(t,a){if(void 0!=t.customOptions.file.container)var i=t.customOptions.file.container.replace(/\//g,"__"),n=r.appSettings.API_URL+"upload/"+i+"/download/"+e.data[t.name];else var n=r.appSettings.API_URL+e.module+"/download/"+t.name+"/"+a;e._download(n,t,e.data)},e.downloadDetail=function(t,a,i,n){if(void 0!=a.customOptions.file.container)var l=r.appSettings.API_URL+"upload/"+a.customOptions.file.container+"/download/"+n[a.name];else var l=r.appSettings.API_URL+e.module+"/details/"+t+"/download/"+a.name+"/"+i;e._download(l,a,n)},e._download=function(t,a,i){this.$http({method:"GET",url:t,responseType:"arraybuffer"}).success(function(t,n,l){if(l=l(),void 0!=a.customOptions.file.container)var o=i[a.name];else var o=l["content-disposition"].split(";")[1].split("=")[1].split('"')[1];var r=l["content-type"],s=new Blob([t],{type:r});e.downloadFile(s,o)})},e.downloadFile=function(e,t){var a=document.createElement("a");try{var i=window.URL.createObjectURL(e);a.setAttribute("href",i),a.setAttribute("download",t);var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(n)}catch(l){}},e.getFilter=function(){return decodeURIComponent(f.location.search).replace("?filter=","")},e.submit=function(){e._submit(this)},e._submit=function(t,a){function n(n){if(l.loading_http_request=t.crudForm.loading_http_request=!0,n)return e.backFormvalidation(),s.warning(n.message?n.message:"Confira seu formulário"),!1;if(l.headers.tabs&&Object.keys(l.headers.tabs).forEach(function(e){l.data[e]&&delete l.data[e]}),delete e.data.createdAt,a)if(e.data.id)var o=e.resource.customPUT(e.data,e.data.id),d="edit";else{var c=e.headers.parentID||i.id;e.headers.quickAdd&&(c=void 0);var o=e.resource.customPOST(e.data,c),d="new"}else if(i.id){o=e.data.put();var d="edit"}else{o=e.$parent.resource.post(e.data);var d="new"}o.then(function(t){function i(){a&&r.$broadcast("refreshGRID"),e.cancel()}e.$emit("after save",i,t,d),e.$$listeners["after save"]||i()},function(t){function a(e){for(var t in l.headers.fields){var a=l.headers.fields[t];if(a.name==e)return a.label}}var i=[];if(e.backFormvalidation(),422==t.status)if("CANT_SAVE_MODEL"==t.data.error.code)i.push(t.data.error.message);else if(t.data.error.details){var n=t.data.error.details.codes,o={presence:"O campo %s é obrigatório",absence:"O campo %s deve ser nulo","unknown-property":"O campo %s não foi definido",length:{min:"O campo %s é muito curto",max:"O campo %s é muito longo",is:"O campo %s está com tamanho inválido"},common:{blank:"O campo %s está em branco","null":"O campo %s está nulo"},numericality:{"int":"O campo %s não é um número inteiro",number:"O campo %s não é um número"},inclusion:"O campo %s não foi incluído na lista",exclusion:"O campo %s não pode ser excluído",uniqueness:"O campo %s está repetido com o de outro registro","custom.email":"Este email não é válido"};_.each(n,function(e,t){var n=a(t);"string"==typeof e&&(e=[e]),_.each(e,function(e,t){var a=o[e].replace("%s",n);i.push(a)})})}else i.push(t.data.error.message);s.warning(i.join("<br />")),e.$emit("error save",t)})}var l=t,o=l.data;return t.crudForm.loading_http_request||l.loading_http_request?!1:(t.crudForm.loading_http_request=!0,e.backFormvalidation=function(){l.loading_http_request=t.crudForm.loading_http_request=!1},_.each(l.headers.fields,function(e,a){if(e.error=void 0,o[e.name]||0==o[e.name]||e.notnull||"number"!==e.type||(o[e.name]=null),e.customOptions&&e.customOptions.file&&e.editable&&e.notnull&&!o[e.name]&&(e.error="Este campo é obrigatório.",t.crudForm.$valid=!1),"password"==e.type&&0!=e.name.indexOf("confirm")&&o["confirm_"+e.name]!=o[e.name]&&(e.error="Senha diferente da confirmação.",t.crudForm.$valid=!1),e.autocomplete&&o[e.name+".label"]&&"object"!=typeof o[e.name+".label"]&&(e.error="Campo inválido, selecione novamente.",t.crudForm.$valid=!1),"data_nascimento"==e.name){var i=o[e.name];(moment(i).isAfter(moment())||moment(i).isSame(moment(),"day"))&&(e.error="Insira uma data de nascimento válida, anterior ao dia de hoje!",t.crudForm.$valid=!1)}}),t.crudForm.$valid?(e.$emit("before save",n),void(e.$$listeners["before save"]||n())):(e.backFormvalidation(),!1))},e.cancel=function(){o.go(o.current.name.replace(".edit",".list").replace(".new",".list"),{filter:e.getFilter()})},e.openPopup=function(e){e.preventDefault(),e.stopPropagation(),this.popupOpen=!0},e.buttonClick=function(t){e[t]()},e.newDetail=function(t,a,i,n){t.fixedRoute||(t.fixedRoute=t.route);var l=e.headers.route_detail?e.headers.route_detail:t.custom_route?t.custom_route:e.headers.route;t.route=i?n:l+t.fixedRoute,t.id=i?i:null,t.parentID=t.fk_id?e.data[t.fk_id]:e.data.id,u.createCRUDModal(t,a,"CRUDEditDetailController",null,e)},e.deleteDetail=function(e,t){var i=a.all(e);i.customDELETE(t.id).then(function(){r.$broadcast("refreshGRID"),r.$broadcast("data-grid-updated",{type:e.split("/").pop()})},function(e){s.warning(e.data.error.message)})},e.newDetailData=function(t,a,i){if(e.data[a]=e.data[a]||[],i){var n=e.headers[t][a];n.route_detail?n.route=n.route_detail:n.route=e.headers.route+"/details/"+a,u.createCRUDModal(n,null,null,null,e).then(function(t){t["new"]=!0,e.data[a].push(t)})}else{var l={},o=e.headers[t][a].fields;for(var r in o)"boolean"!=o[r].type?l[o[r].name]=null:l[o[r].name]=!1;l["new"]=!0,e.data[a].push(l),e.$apply()}},e.editDetailData=function(t,a,i){var n=e.headers[t][a];n.route_detail?n.route=n.route_detail:n.route=e.headers.route+"/details/"+a,i._edit=!0,u.createCRUDModal(n,i,null,null,e).then(function(t){e.data[a][e.data[a].indexOf(i)]=t})},e.deleteDetailData=function(e,t){var a=this;f.customConfirm(p.translate("letsfw.message_delete"),p.translate("letsfw.ok"),p.translate("letsfw.cancelar"),function(i){i&&a.data[t].splice(a.data[t].indexOf(e),1)})}}])}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("CRUDEditDetailController",["$scope","$controller","Restangular","headers","$rootScope","data","$modalInstance",function(t,a,i,n,l,o,r){a("CRUDEditController",{$scope:t,module:e}),t.data=o||{},t.headers=n,t.resource=i.all(n.route),t.submit=function(){t._submit(this,!0)},t.cancel=function(){r.dismiss("success")};var s=n.parentScope;delete n.parentScope,n.modal_id&&(l.$emit("open:"+n.modal_id,t),s&&s.$emit("open:"+n.modal_id,t)),t.fetchData(n.id,!0)}])}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("AutoCompleteController",["$scope","locale","$q","$timeout",function(e,t,a,i){e.autocompleteModels={},e.doafterAutoCompleteSelect={},e._autocomplete=function(i,n,l){var o=e.filterdata||e.data||{},r=[],s=a.defer();if(i.autocomplete_dependencies.length>0){var d=i.autocomplete_dependencies;for(var c in d){var u=d[c];if(void 0==o[u.field]||null==o[u.field]||"null"==o[u.field]){var f=t.translate("letsfw.select_before").replace("%name%",u.label?u.label.toLocaleLowerCase():u.field).replace("%gender%",u.gender?u.gender:"o(a)"),o=[];return o.push({id:null,label:f}),s.resolve(o),s.promise}r[u.field]="object"==typeof o[u.field]?o[u.field].id:o[u.field]}}n.length>0&&(n=encodeURIComponent(n.trim())),(0==n.length||1==i.customOptions.select)&&(n="[blank]");var p=function(e){var a=!Array.isArray(i.quickAdd)&&"object"==typeof i.quickAdd,l=e.length>0;if(0!=e.length||a||e.unshift({id:null,label:t.translate("letsfw.no_record_found")}),1==i.customOptions.select&&l&&(i.customOptions.searchBlank&&e.unshift({id:"null",label:t.translate("letsfw.is_blank")}),i.customOptions.required||e.unshift({id:null,label:"--- "+t.translate("letsfw.select")+" ---"})),a&&"[blank]"!=n&&!l){var o="<p><i class='fa fa-plus'></i> "+(i.quickAdd.label||"Cadastrar")+"</p>"+decodeURIComponent(n);e.push({id:null,label:o,quickAdd:!0,value:decodeURIComponent(n)})}s.resolve(e)};if(void 0==i.customOptions.list){if(void 0!==i.customOptions.general)var m="general/autocomplete/"+i.customOptions.general+"/"+n;else if(l)var m="details/"+l+"/autocomplete/"+i.name+"/"+n;else var m="autocomplete/"+i.name+"/"+n;1==i.customOptions.select?r.limit=0:r.limit=20,e.resource.customGET(m,r).then(function(e){p(e)},function(){return s.reject()})}else{var g=angular.copy(i.customOptions.list)||[];p(g)}return s.promise},e._autocompleteSelect=function(t,a,n,l){this.field.error=void 0;var o=this.detail_data||this.data||{};if(null!=t.id&&"integer"!=typeof t.id||"integer"==typeof t.id&&t.id>0)o[this.field.name]=t.id;else{if(null!=t.id)return o[this.field.name+".label"]=null,!1;o[this.field.name]=o[this.field.name+".label"]=null}if(l?this.detail_data=o:this.data=o,t.quickAdd)return e.$emit("autocomplete-quickAdd-"+this.field.name,{scope:e,value:t.value});e.$emit("autocomplete-select-"+this.field.name,{scope:e,value:t}),"function"==typeof e.doafterAutoCompleteSelect[this.field.name]&&e.doafterAutoCompleteSelect[this.field.name].call(this,o,t,a,n);var r=this.field;i(function(){jQuery("#"+r.name).trigger("keyup")})},e.autocompleteAdd=function(e){},e.autocomplete=function(e,t){return this._autocomplete(e,t,null)},e.autocompleteDetail=function(e,t,a){return this._autocomplete(t,a,e)},e.autocompleteSelect=function(e,t,a,i){this._autocompleteSelect(t,a,i,null)},e.autocompleteDetailSelect=function(e,t,a,i){this._autocompleteSelect(t,a,i,e)}}])}(),angular.module("letsAngular").run(["$templateCache",function(e){e.put("lets/views/crud/crud-detail-list.html",'<div style="margin-top: 15px;"><div class="filtros"><div class="text-right"><div ng-if="(!detail.settings) || (detail.settings && detail.settings.add)"><a class="btn btn-primary btn-new button-new" origin="tabs_session" detail="{{detail_key}}" form-modal="{{detail.modal ? true : false}}"><span class="fa fa-plus"></span> {{\'letsfw.new_record\'|locale}}</a></div></div></div></div><div class="widget-body"><div class="table-container"><table class="table detail-table table-striped no-margin mb-sm"><thead><tr><th class="{{field.name}} {{field.customClass}}" ng-repeat="field in detail.fields | filter: {viewable: true}" ng-if="detail.modal===true">{{field.label}}</th><th ng-repeat="field in detail.fields | filter: {editable: true}" ng-if="!detail.modal">{{field.label}}</th><th ng-if="detail.settings === undefined|| (detail.settings.edit || detail.settings.delete)" class="editable actions">{{\'letsfw.actions\'|locale}}</th></tr></thead><tbody><tr ng-repeat="detail_data in data[detail_key]" ng-class="{\'new\': detail_data.new != undefined}"><td class="{{field.name}} {{field.customClass}}" ng-repeat="field in detail.fields | filter: {viewable: true}" ng-if="detail.modal===true"><fw-detail-data ng-if="detail.modal"></fw-detail-data></td><td ng-repeat="field in detail.fields | filter: {editable: true}" ng-if="!detail.modal"><fw-input ng-if="!detail.modal" fw-data="detail_data"></fw-input></td><td ng-if="detail.settings === undefined|| (detail.settings.edit || detail.settings.delete)" class="text-right btn-column"><div class="btn-group" role="group"><button type="button" class="btn btn-edit btn-default" ng-if="detail.settings === undefined || (detail.modal===true && detail.settings.edit)" ng-click="editDetailData(\'tabs_session\', detail_key, detail_data)" title="{{\'letsfw.editar\'|locale}}"><span class="glyphicon glyphicon-pencil"></span></button> <button type="button" class="btn btn-delete btn-default" ng-if="detail.settings === undefined || detail.settings.delete" ng-click="deleteDetailData(detail_data, detail_key)" title="{{\'letsfw.excluir\'|locale}}"><span class="glyphicon glyphicon-remove"></span></button></div></td></tr><tr ng-if="!data[detail_key] || data[detail_key].length==0" class="no-data"><td colspan="100%" class="text-center">{{\'letsfw.no_record_found\'|locale}}</td></tr></tbody></table></div></div>'),e.put("lets/views/crud/crud-edit.html",'<div><crud-breadcrumb></crud-breadcrumb></div><section class="widget"><div class="widget-body"><form class="form-horizontal" role="form" ng-submit="submit(this)" crud-form="" name="crudForm" headers="{{headers}}" novalidate="" autocomplete="off"><ng-include src="\'lets/views/crud/crud-form.html\'"></ng-include></form></div></section>'),e.put("lets/views/crud/crud-filter.html",'<div class="filtros"><form ng-submit="filterData(true)"><div class="busca row" ng-if="!hideInputSearch"><div class="form-group col-sm-5" style="margin-bottom: 10px;"><div class="fw-input-group input-group"><input autocomplete="off" type="text" class="form-control" name="q" ng-model="data[\'q\']" ng-disabled="showBuscaAvancada" placeholder="{{\'letsfw.search_by\'|locale}}..."> <span class="input-group-btn" ng-if="fieldsFilter.length > 0"><button type="button" class="btn btn-default" title="{{\'letsfw.search_advanced\'|locale}}" ng-click="openBuscaAvancada()"><i class="glyphicon" ng-class="{\'glyphicon-plus\': !showBuscaAvancada, \'glyphicon-minus\': showBuscaAvancada}"></i></button></span> <span ng-if="clearButton && fieldsFilter.length > 0" class="input-group-btn"><button type="button" class="btn btn-default" title="{{\'letsfw.clear_filter\'|locale}}" ng-click="clearBusca()"><i class="glyphicon glyphicon-erase"></i> <span class="hidden-xs">{{\'letsfw.clear_filter\'|locale}}</span></button></span> <button type="submit" style="width: 0px; opacity: 0"></button></div></div><div class="clearfix"></div></div><div class="busca-avancada row" collapse="!showBuscaAvancada"><div class="form-group" style="margin-bottom: 10px; margin-right: 0px; min-width: 200px;" ng-repeat="field in fieldsFilter track by $index" ng-class="field.filter.customClass ? field.filter.customClass : (field.filter.size ? \'col-sm-\'+field.filter.size : (field.filter.range===true ? \'col-sm-2\' : \'col-sm-3\'))"><label for="{{field.name}}" class="control-label" style="font-size:12px; margin-bottom: 0px;font-weight: 600">{{field.label}}</label><fw-input fw-data="data"></fw-input></div><div class="form-group col-sm-2"><label class="control-label" style="font-size:12px; margin-bottom: 0px;">&nbsp;</label><div><button type="submit" class="btn btn-primary"><span class="icon fa fa-search"></span>{{\'letsfw.search\'|locale}}</button></div></div><div class="clearfix"></div></div></form></div>'),e.put("lets/views/crud/crud-form-input.html",'<div class="form-group" ng-repeat="field in fields | filter: filter" ng-if="!auto_layout"><label for="{{field.name}}" ng-class="{\'required\':field.notnull}" class="col-sm-2 control-label no-padding">{{field.label ? field.label : "&nbsp"}} <span ng-if="field.required">*</span></label><div class="col-sm-9"><fw-input fw-data="data"></fw-input></div></div><div class="form-group form-auto-layout" ng-repeat="field in fields | filter: filter" ng-class="field.size ? \'col-sm-\'+field.size : field.type == \'text\' ? \'col-sm-12\' : (field.type == \'date\' || field.type == \'time\' || field.type == \'boolean\' || ((field.type == \'number\' || field.type == \'integer\' || field.type == \'bigint\') && !field.autocomplete)) ? \'col-sm-3\' : \'col-sm-6\'" ng-if="auto_layout"><label for="{{field.name}}" ng-class="{\'required\':field.notnull}" class="control-label">{{field.label ? field.label : "&nbsp"}} <span ng-if="field.required">*</span> <i ng-if="field.help" class="fa fa-info-circle" title="{{field.help}}" style="cursor:help; font-size:12px;"></i></label><fw-input fw-data="data"></fw-input></div>'),
e.put("lets/views/crud/crud-form.html",'<div><div class="fixed-caption-block" ng-if="headers.fixed_tab"><fieldset><legend><strong ng-if="headers.label_row">{{headers.label_row}}</strong> <strong ng-if="!headers.label_row">{{\'letsfw.main_information\'|locale}}</strong></legend><ng-include ng-if="beforeForm != undefined" src="beforeForm"></ng-include><ng-include src="\'lets/views/crud/crud-form-input.html\'" ng-init="auto_layout=headers.auto_layout; fields=headers.fields; filter={tab: \'fixed\', editable: true}"></ng-include><ng-include ng-if="afterForm != undefined" src="afterForm"></ng-include></fieldset></div><tabset class="tab-group" ng-class="{\'hide-nav\': (_.size(headers.tabs) == 0 && _.size(headers.main_tabs) == 0 && _.size(headers.tabs_session) == 0)}"><tab ng-if="headers.main_tabs == undefined" heading="{{headers.label_row}}"><fieldset><legend ng-show="_.size(headers.tabs) == 0"><strong ng-if="headers.label_row">{{headers.label_row}}</strong> <strong ng-if="!headers.label_row">{{\'letsfw.main_information\'|locale}}</strong></legend><ng-include ng-if="beforeForm != undefined" src="beforeForm"></ng-include><ng-include src="\'lets/views/crud/crud-form-input.html\'" ng-init="auto_layout=headers.auto_layout; fields=headers.fields; filter={editable: true}"></ng-include><ng-include ng-if="afterForm != undefined" src="afterForm"></ng-include></fieldset></tab><tab ng-if="headers.main_tabs != undefined" ng-repeat="tab in headers.main_tabs" heading="{{tab.label || tab}}" disable="tab.disabled || false"><fieldset><ng-include src="\'lets/views/crud/crud-form-input.html\'" ng-init="auto_layout=headers.auto_layout; fields=headers.fields; filter={tab:(tab.id || $index), editable: true}"></ng-include></fieldset></tab><tab ng-if="!detail.hide" ng-repeat="(detail_key, detail) in headers.tabs_session" heading="{{detail.label}}"><div><section grid="{{detail_key}}"><ng-include src="\'lets/views/crud/crud-detail-list.html\'"></ng-include></section></div></tab><tab ng-if="data.id != null && !tab.hide" ng-repeat="(tab_name, tab) in headers.tabs" heading="{{tab.label}}"><div ng-if="tab.fields && !tab.templateUrl"><section grid="{{tab_name}}" crud-list-table="" settings="{headers:tab, tab:true, url:(headers.route_detail ? headers.route_detail : tab.custom_route ? tab.custom_route : headers.route)+\'/details/\'+ (tab.fk_id ? data[tab.fk_id] : data.id) +\'/\'+tab_name, getscope:getscope, tab_name:tab_name}"></section></div><div ng-if="tab.templateUrl"><ng-include src="tab.templateUrl"></ng-include></div></tab><tab disabled="true" ng-if="headers.show_tabs_new && !data.id && !tab.hide" ng-repeat="(tab_name, tab) in headers.tabs" heading="{{tab.label}}"></tab></tabset><div class="form-actions"><div class="row"><div class="col-sm-offset-4 col-sm-7"><button type="button" class="btn btn-big btn-inverse" ng-click="cancel()"><span class="icon fa fa-arrow-left"></span>{{\'letsfw.cancel\'|locale}}</button> <button ng-if="!headers.disabled" type="submit" class="btn btn-big btn-primary" ng-class="{\'disabled\': loading_http_request}"><span class="icon fa fa-floppy-o" ng-show="!loading_http_request"></span> <i class="fa fa-spinner fa-spin" ng-show="loading_http_request"></i> {{\'letsfw.save\'|locale}}</button></div></div></div></div>'),e.put("lets/views/crud/crud-list-table.html",'<header class="crud-list-header row hidden-xs" style="display: flex;" ng-if="!tab"><h4>{{headers.label}}</h4></header><div style="margin-top: 15px;" ng-class="{\'col-sm-12\':tab}"><div class="filtros"><div style="position: absolute; right:0px; top: 0px;" class="hidden-xs" ng-if="tab"><a class="btn btn-primary btn-block btn-new" ng-click="newDetail()" ng-show="headers.settings.add"><span class="fa fa-plus"></span> {{headers.buttons.add ? headers.buttons.add : (\'letsfw.new_record\'|locale)}}</a></div><div class="visible-xs" style="margin-bottom: 15px;" ng-if="tab"><a class="btn btn-primary btn-block btn-new" ng-click="newDetail()" ng-show="headers.settings.add"><span class="fa fa-plus"></span> {{headers.buttons.add ? headers.buttons.add : (\'letsfw.new_record\'|locale)}}</a></div><form ng-submit="filterTable(this)" role="form" filter-form="" name="filterForm" novalidate="" autocomplete="off"><div class="busca row" ng-if="!hideInputSearch"><div class="form-group col-sm-5" style="margin-bottom: 10px;"><div class="fw-input-group input-group"><input autocomplete="off" type="text" class="form-control" name="q" ng-model="filterdata[\'q\']" ng-disabled="showBuscaAvancada" placeholder="{{\'letsfw.search_by\'|locale}}..."> <span class="input-group-btn" ng-if="fieldsFilter.length > 0"><button type="button" class="btn btn-default" title="{{\'letsfw.search_advanced\'|locale}}" ng-click="openBuscaAvancada()"><i class="fa fa-filter" ng-if="!showBuscaAvancada"></i> <i class="fa fa-filter" ng-if="showBuscaAvancada"></i> <i class="fa fa-times" ng-if="showBuscaAvancada" style="font-size:10px; position: absolute; bottom: 6px;"></i></button></span> <button class="btn-hide" type="submit" style="width: 0px; opacity: 0"></button></div></div><div class="clearfix"></div></div><div class="busca-avancada row" collapse="!showBuscaAvancada"><div data-field="{{field.name}}" class="form-group" style="margin-bottom: 10px; margin-right: 0px; min-width: 50px;" ng-repeat="field in fieldsFilter track by $index" ng-class="field.filter.customClass ? field.filter.customClass : (field.filter.size ? \'col-sm-\'+field.filter.size : (field.filter.range===true ? \'col-sm-2\' : \'col-sm-3\'))"><label for="{{field.name}}" class="control-label" style="font-size:12px; margin-bottom: 0px;font-weight: 600">{{field.label}}</label><fw-input fw-data="filterdata"></fw-input></div><div class="form-group col-sm-2 btn-submit"><label class="control-label" style="font-size:12px; margin-bottom: 0px;">&nbsp;</label><div><button type="submit" class="btn btn-primary"><span class="icon fa fa-search"></span>{{\'letsfw.search\'|locale}}</button></div></div><div class="clearfix"></div></div></form></div></div><div class="widget-body"><div class="table-container" ng-if="!headers.templateTableUrl"><table class="table table-striped table-editable no-margin mb-sm {{headers.tableClass}}"><thead><tr><th class="{{field.name}} {{field.customClass}}" ng-repeat="field in headers.fields | filter: {viewable: true}"><a ng-click="order(field.name)" ng-if="field.type!==\'custom\'">{{field.label}} <i class="fa fa-caret-up" style="font-size:15px;" ng-if="sort.sortKey==field.name && sort.order==\'desc\'"></i> <i class="fa fa-caret-down" style="font-size:15px;" ng-if="sort.sortKey==field.name && sort.order==\'asc\'"></i></a> <span ng-if="field.type==\'custom\'">{{field.label}}</span></th><th class="editable actions" ng-if="headers.settings.edit || headers.settings.delete || headers.actions">{{\'letsfw.actions\'|locale}}</th></tr></thead><tbody><tr ng-repeat="(idx, data) in tableData.data"><td class="{{field.name}} {{field.customClass}}" ng-repeat="field in headers.fields | filter: {viewable: true}">{{parseRecord(data,field)}}<div ng-if="field.type==\'custom\'" data="data" idx="idx" field="field" getscope="getscope" fw-custom-field=""></div></td><td class="text-right btn-column" ng-if="headers.settings.edit || headers.settings.delete || headers.actions"><div class="btn-group" role="group"><button ng-if="!act.disabled" ng-disabled="act.disableItem(data)" ng-repeat="act in headers.actions" ng-click="this[act.function](data)" type="button" class="btn btn-default" title="{{act.label}}"><span class="{{act.class}}"></span></button> <button ng-if="headers.settings.edit" ng-click="edit(data)" type="button" class="btn btn-default btn-edit" title="{{\'letsfw.editar\'|locale}}"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="headers.settings.delete" ng-click="delete(data)" type="button" class="btn btn-default btn-delete" title="{{\'letsfw.excluir\'|locale}}"><span class="glyphicon glyphicon-remove"></span></button></div></td></tr></tbody></table><div ng-if="searching" class="text-center" style="padding:10px"><i class="fa fa-spinner fa-spin fa-2x fa-fw"></i></div><div fw-paginator="" totalrecords="tableData.total_count" pagesize="tableData.total_entries" currentpage="tableData.currentPage" totalpages="tableData.total_pages" gopage="gopage"></div></div><ng-include ng-if="headers.templateTableUrl" src="headers.templateTableUrl"></ng-include></div>'),e.put("lets/views/crud/crud-list.html",'<div style="display: flex; justify-content: space-between;"><crud-breadcrumb></crud-breadcrumb><div ng-if="headers.settings.export" style="margin-right:20px;"><a class="btn btn-inverse list" ng-disabled="export_btn_is_disable" ng-click="export()"><span class="icon fa fa-share"></span>Exportar Dados</a></div><div ng-if="headers.settings.add"><a class="btn btn-primary btn-new" ng-click="goNew()"><span class="icon fa fa-plus"></span>{{headers.buttons.add ? headers.buttons.add : (\'letsfw.new_record\'|locale)}}</a></div></div><section grid="main" class="widget" crud-list-table="" settings="{headers:headers, tab:false}"></section>'),e.put("lets/views/crud/crud-modal.html",'<section class="widget"><div class="widget-body"><form class="form-horizontal" role="form" ng-submit="submit(this)" crud-form="" name="crudForm" headers="{{headers}}" novalidate=""><ng-include src="\'lets/views/crud/crud-form.html\'"></ng-include></form></div></section>'),e.put("lets/views/crud/crud-tab-list.html","<div><div class=\"row btn-tab\"><div class=\"col-md-4 col-lg-4 col-xs-4 pull-right\"><a class=\"btn btn-primary btn-block button-new\" origin=\"tabs\" ng-click=\"$parent.openTabModal(type)\"><span class=\"fa fa-plus\"></span> Novo {{headers['tabs'][type].label_row}}</a></div></div><section class=\"widget\" crud-list=\"\" crud-list-settings=\"{ url: headers['tabs'][type].tab_route + (headers['tabs'][type].data_path != undefined ? data[headers['tabs'][type].data_path].id : data.id) + '/' + headers['tabs'][type].label_stem, mainRoute: headers['tabs'][type].tab_route, fields: headers['tabs'][type].fields, tab: true, settings: headers['tabs'][type].settings, type: headers['tabs'][type].custom ? headers['tabs'][type].label_stem : type }\"><div class=\"widget-body\"><div class=\"table-container\"></div></div></section></div>"),e.put("lets/views/crud/crud.html",'<div ui-view=""></div>'),e.put("lets/views/framework/breadcrumb.html",'<div style="flex:1"><ol class="breadcrumb"><li><a ui-sref="app.dashboard">Home</a></li><li class="active"><a ng-click="goToList()">{{headers.label}} <span ng-if="headers.show_id && idData">- {{idData}}</span></a></li></ol><div class="subtitle" ng-bind-html="headers.subtitle"></div></div>'),e.put("lets/views/framework/chart.html",'<section class="widget"><header class="row"><h4>Relatório de <span class="fw-semi-bold">{{key}}</span></h4></header><div data-name="filter" style="margin-top: .5em;"><div class="col-sm-6 col-lg-6" style="padding: 0;"><label for="">Data de Início</label> <input type="text" ng-model="$parent.d3chartStartDate" fw-date-picker="true" fw-date-picker-ng-model-parent="true" data-date-format="DD/MM/YYYY" disabled="true"></div><div class="col-sm-6 col-lg-6" style="padding: 0;"><label for="">Data de Fim</label> <input type="text" ng-model="$parent.d3chartEndDate" fw-date-picker="true" fw-date-picker-ng-model-parent="true" data-date-format="DD/MM/YYYY" disabled="true"></div></div><div class="widget-body"><div data-nvd3-chart="" data-chart="d3chartConfig" data-datum="d3chartData"><svg class=""></svg></div></div></section>'),e.put("lets/views/framework/input-detail.html",'<div><input ng-if="field.type != \'boolean\'" "="" class="main-input form-control" fw-dynamic="" ng-required="field.notnull" ng-show="field.autocomplete === false" type="text" ng-model="detail_data[field.name]"> <input ng-if="field.type == \'boolean\'" ng-required="field.notnull" type="checkbox" id="{{field.name}}" data-ui-switch="{size: \'small\'}" data-ng-model="detail_data[field.name]"> <input typeahead-on-select="autocompleteDetailSelect(detail_key, $item, $model, $label)" aria-autocomplete="none" autocomplete="false" typeahead-min-length="3" typeahead="row as row.label for row in $parent.autocompleteDetail(detail_key, field, $viewValue)" ng-if="field.autocomplete !== false" ng-required="field.notnull" type="text" class="form-control" ng-model="detail_data[field.name + \'.label\']" placeholder="{{field.label}}"></div>'),e.put("lets/views/framework/input.html",'<div class="input-container" data-name="{{field.name}}"><div ng-if="field.type == \'float\' && field.customOptions.currency"><div class="fw-input-group"><span ng-if="field.customOptions.currency != undefined" class="input-group-addon">R$</span> <input ng-if="field.customOptions.min" step="0.5" data-parsley-pattern="^\\d{1,3}(?:\\.\\d{3})*,\\d{2}$" lang="pt-BR" ng-model-options="{fieldInfo: field}" type="text" id="{{field.name}}" string-to-number="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" min="{{field.customOptions.min}}" placeholder="{{field.placeholder}}"> <input ng-if="!field.customOptions.min" step="0.5" lang="pt-BR" ng-model-options="{fieldInfo: field}" type="text" id="{{field.name}}" string-to-number="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" placeholder="{{field.placeholder}}"></div></div><div ng-if="field.type == \'float\' && !field.customOptions.currency"><input step="0.5" data-parsley-type="number" lang="pt-BR" ng-model-options="{fieldInfo: field}" type="text" id="{{field.name}}" string-to-number="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" min="{{field.customOptions.min}}" placeholder="{{field.placeholder}}"></div><div ng-if="(field.type == \'number\' || field.type == \'integer\' || field.type == \'bigint\') && !field.autocomplete && !field.customOptions.range"><input ng-model-options="{fieldInfo: field}" type="text" id="{{field.name}}" string-to-number="" numbers-only="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" placeholder="{{field.placeholder}}"></div><div ng-if="(field.type == \'number\' || field.type == \'integer\' || field.type == \'bigint\') && !field.autocomplete && field.customOptions.range"><input ng-model-options="{fieldInfo: field}" type="number" id="{{field.name}}" ng-required="{{field.notnull}}" ng-model="data[field.name]" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" min="{{field.customOptions.range.min}}" max="{{field.customOptions.range.max}}" placeholder="{{field.placeholder}}"></div><div ng-if="field.type == \'string\' && (!field.customOptions.file && !field.customOptions.email && !field.autocomplete)"><input ng-model-options="{fieldInfo: field}" name="{{field.name}}" type="text" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" placeholder="{{field.placeholder}}" autocomplete="off"><ul class="parsley-errors-list filled" ng-if="field.error"><li class="parsley-required">{{field.error}}</li></ul></div><div ng-if="field.type == \'tags\'"><fw-tags ng-model-options="{fieldInfo: field}" fw-tags="" tags="data[field.name]" name="{{field.name}}"></fw-tags></div><div ng-if="field.type == \'password\'"><input ng-model-options="{fieldInfo: field}" type="password" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" placeholder="{{field.placeholder}}"><ul class="parsley-errors-list filled" ng-if="field.error"><li class="parsley-required">{{field.error}}</li></ul></div><div ng-if="field.type == \'string\' && field.customOptions.email"><input ng-model-options="{fieldInfo: field}" type="email" id="{{field.name}}" string-to-number="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" placeholder="{{field.placeholder}}"></div><div ng-if="field.type == \'custom\'"><div ng-bind-html="fieldHtml()"></div></div><div ng-if="field.type == \'date\'"><input type="text" fw-dynamic="" ng-model-options="{fieldInfo: field, allowInvalid: true}" fw-date-picker="true" min-date="field.customOptions.minDate" max-date="field.customOptions.maxDate" max-mode="field.customOptions.maxMode||\'year\'" ng-required="field.notnull" id="{{field.name}}" name="{{field.name}}" ng-model="$parent.data[field.name]" class="form-control" ng-readonly="field.customOptions.readonly" ng-disabled="field.disabled" autocomplete="off"><ul class="parsley-errors-list filled" ng-if="field.error"><li ng-if="field.error===true" class="parsley-required">A data informada é inválida.</li><li ng-if="field.error!==true" class="parsley-required">{{field.error}}</li></ul></div><div ng-if="field.type == \'time\'"><timepicker ng-model="$parent.data[field.name]" ng-disabled="field.disabled" hour-step="field.customOptions.timepicker.hstep || 1" minute-step="field.customOptions.timepicker.mstep || 1" show-meridian="field.customOptions.timepicker.meridian"></timepicker><ul class="parsley-errors-list filled" ng-if="field.error"><li class="parsley-required">O horário informado é inválido.</li></ul></div><div ng-if="field.type == \'string\' && field.customOptions.file"><div fw-upload="" class="fw-input-group" style="flex-direction: column;"><style>.drag-box{border: 5px dashed #DDD;} .dragover {border: 5px dashed #14415f;}</style><div ng-if="field.customOptions.file.preview || field.customOptions.file.dad" style="height: 200px; padding: 15px; border-left: dotted 1px #DDD; margin-bottom: -2px; border-right: dotted 1px #DDD; border-top: dotted 1px #DDD; display: flex; align-items: center; justify-content: center;"><img ng-if="field.customOptions.file.preview && f.fileURL && f.isImage" style="max-height:100%; max-width:100%; border-radius: 5px;" ng-src="{{ trustSrc(f.fileURL) }}"><video ng-if="field.customOptions.file.preview && f.fileURL && f.isVideo" style="height:100%; width:100%;" controls="" ng-src="{{ trustSrc(f.fileURL) }}"></video><div class="drag-box" ng-if="field.customOptions.file.dad && !f.alreadySent && !field.disabled" ngf-drop="dropFile($file, $invalidFiles)" style="width: 100%; height: 100%; display:flex; justify-content: center; align-items: center;" accept="{{ field.customOptions.file.acceptedFiles ? field.customOptions.file.acceptedFiles.join(\',\') : \'all\'}}" ngf-pattern="\'{{ field.customOptions.file.acceptedFiles ? field.customOptions.file.acceptedFiles.join(\',\') : \'\'}}\'" ngf-validate="{{field.customOptions.file.validate}}" ngf-resize="{{field.customOptions.file.resize}}" ngf-select="upload($file, $invalidFiles)">Arraste e solte o arquivo aqui.</div><div ng-if="field.customOptions.file.dad && f.alreadySent && (!field.customOptions.file.preview || (!f.isImage && !f.isVideo))"><i class="fa fa-file-text-o" style="font-size:85px"></i></div></div><div style="display: flex;"><div class="progress" style="margin-bottom: 0px;"><div class="progress-bar" role="progressbar" aria-valuenow="{{f.progress}}" aria-valuemin="0" aria-valuemax="100" style="padding: 0px;" ng-style="{\'width\': f.progress+\'%\'}"><span style="position: absolute; left:25px;">{{f.name}}</span></div></div><input ng-model-options="{fieldInfo: field}" type="hidden" name="{{field.name}}" ng-model="$parent.data[field.name]" id="{{field.name}}" ng-required="field.notnull" autocomplete="off"> <span class="input-group-btn" style="width: auto;"><button ng-disabled="f.uploading || field.disabled" ng-if="!f.alreadySent || field.customOptions.only_upload == true" type="file" ngf-accept="\'{{ field.customOptions.file.acceptedFiles ? field.customOptions.file.acceptedFiles.join(\',\') : \'all\'}}\'" ngf-pattern="\'{{ field.customOptions.file.acceptedFiles ? field.customOptions.file.acceptedFiles.join(\',\') : \'\'}}\'" ngf-validate="{{field.customOptions.file.validate}}" ngf-resize="{{field.customOptions.file.resize}}" ngf-select="upload($file, $invalidFiles)" class="btn btn-default"><i ng-class="f.uploading ? \'fa-circle-o-notch fa-spin\' : \'fa-folder-open-o\'" class="fa"></i> <span ng-if="!f.uploading">Procurar...</span> <span ng-if="f.uploading">Carregando...</span></button> <button ng-if="f.alreadySent && !field.customOptions.only_upload && !field.disabled" ng-click="removeFile()" type="button" class="btn btn-default"><i class="fa fa-trash-o"></i> Remover</button> <button ng-if="f.alreadySent && !field.customOptions.only_upload" ng-click="download(field, data.id)" type="button" class="btn btn-default"><i class="fa fa-download"></i> Baixar</button></span></div><ul class="parsley-errors-list filled" ng-if="field.error"><li class="parsley-required">{{field.error}}</li></ul></div></div><div ng-if="field.type == \'text\' && !field.customOptions.rich && !field.customOptions.maxlength"><textarea ng-model-options="{fieldInfo: field}" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" ng-disabled="field.disabled" placeholder="{{field.customOptions.placeholder ? field.customOptions.placeholder : \'\'}}" class="main-input form-control" rows="{{field.customOptions.rows}}"></textarea></div><div ng-if="field.type == \'text\' && !field.customOptions.rich && field.customOptions.maxlength"><textarea ng-model-options="{fieldInfo: field}" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" ng-disabled="field.disabled" placeholder="{{field.customOptions.placeholder ? field.customOptions.placeholder : \'\'}}" class="main-input form-control" rows="{{field.customOptions.rows}}" maxlength="{{field.customOptions.maxlength}}"></textarea></div><div ng-if="field.type == \'text\' && field.customOptions.rich" ng-class="{\'ckeditor-disabled\':field.disabled}"><style>\n			.ckeditor-disabled .cke_top, .ckeditor-disabled .cke_path{display: none;}\n			.ckeditor-disabled .cke_bottom{background:unset; border: unset;}\n		</style><textarea ckeditor="{type:field.customOptions.rich}" ng-model-options="{fieldInfo: field}" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" class="main-input form-control" ng-disabled="field.disabled" ng-readonly="field.disabled">\n		</textarea></div><div ng-if="field.type == \'boolean\'"><label for="{{field.name}}" style="width: 100%; max-width: 150px;"><toggle id="{{field.name}}" ng-model-options="{fieldInfo: field}" ng-model="data[field.name]" name="{{field.name}}" on="{{field.customOptions.statusTrueText}}" off="{{field.customOptions.statusFalseText}}" size="btn-sm" ng-if="!field.disabled"></toggle><div ng-if="field.disabled"><div class="toggle btn btn-default btn-sm" ng-class="{\'off\':!$parent.data[field.name]}" style="width: 100%; height: 32px;"><div class="toggle-group"><label class="btn disabled btn-primary btn-sm toggle-on">{{field.customOptions.statusTrueText}}</label> <label class="btn disabled active btn-default btn-sm toggle-off">{{field.customOptions.statusFalseText}}</label> <span class="btn btn-default btn-sm toggle-handle"></span></div></div></div></label></div><div ng-if="field.type == \'checkbox\'" class="d-flex flex-row"><div ng-repeat="campo in field.customOptions.list"><div class="circle-group"><input type="checkbox" ng-false-value="false" class="input-control circle" id="{{field.name + campo.id}}" ng-model="data[field.name][campo.id]" ng-true-value="{{campo.id}}"> <label for="{{field.name + campo.id}}">{{campo.label}}</label></div></div></div><div ng-if="field.autocomplete"><div fw-auto-complete="" class="fw-input-group fw-auto-complete input-group"><input id="{{field.name}}" ng-model-options="{fieldInfo: field}" fw-auto-complete="" typeahead-on-select="autocompleteSelect($item, $model, $label)" aria-autocomplete="none" autocomplete="off" typeahead-min-length="0" typeahead="row as row.label for row in autocomplete(field, $viewValue)" type="text" class="form-control" name="{{field.name}}" ng-required="field.notnull" ng-model="$parent.data[field.name + \'.label\']" size="{{field.length}}" placeholder="{{field.placeholder || field.label}}" ng-disabled="field.disabled" ng-readonly="field.customOptions.select == true" ng-class="{\'fieldSelect\': field.customOptions.select == true}"> <span ng-show="!field.disabled && $parent.data[field.name]" style="position: absolute; top: 2px; right: 42px; z-index: 2; cursor: pointer; padding: 8px; background-color: white;" class="icon fa fa-close"></span> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-disabled="field.disabled"><i class="glyphicon" ng-class="{\'glyphicon-search\': field.customOptions.select == undefined, \'glyphicon-menu-down\': field.customOptions.select == true}"></i></button></span></div><ul class="parsley-errors-list filled" ng-if="field.error"><li class="parsley-required">{{field.error}}</li></ul></div></div>'),e.put("lets/views/framework/paginator.html",'<div><ul class="pagination pagination-sm"><li ng-class="{\'disabled\':currentpage==1}"><a ng-click="go(1)" title="{{\'letsfw.first\'|locale}}"><i class="fa fa-angle-double-left fa-lg"></i></a></li><li ng-class="{\'disabled\':currentpage==1}"><a ng-click="go(currentpage-1)" title="{{\'letsfw.previous\'|locale}}"><i class="fa fa-angle-left fa-lg"></i></a></li><li ng-class="{\'active\':currentpage==page}" ng-repeat="page in getPages()"><a ng-click="go(page)">{{page}}</a></li><li ng-class="{\'disabled\':currentpage==totalpages}"><a ng-click="go(currentpage+1)" title="{{\'letsfw.next\'|locale}}"><i class="fa fa-angle-right fa-lg"></i></a></li><li ng-class="{\'disabled\':currentpage==totalpages}"><a ng-click="go(totalpages)" title="{{\'letsfw.last\'|locale}}"><i class="fa fa-angle-double-right fa-lg"></i></a></li></ul><div class="pull-right total-records" style="font-weight:400; list-style:none; margin:20px 0;"><li>{{\'letsfw.records_page\'|locale}}: {{pagesize}} / {{totalrecords}}</li></div></div>')}]);